;
(self.SPZ=self.SPZ||[]).push({n:"spz-carousel",ev:"0.1",l:!0,t:"v1",v:"1.0",m:0,f:function(t,i){!function(){var i,n,e,s=Object.create,r=Object.defineProperty,o=Object.getOwnPropertyDescriptor,u=Object.getOwnPropertyNames,h=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,l=(i={"node_modules/moment/moment.js":function(t,i){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var e,s;e=t,s=function(){"use strict";var t,e;function s(){return t.apply(null,arguments)}function r(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function o(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function u(t,i){return Object.prototype.hasOwnProperty.call(t,i)}function h(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var i;for(i in t)if(u(t,i))return!1;return!0}function a(t){return void 0===t}function l(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function c(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function f(t,i){var n,e=[];for(n=0;n<t.length;++n)e.push(i(t[n],n));return e}function d(t,i){for(var n in i)u(i,n)&&(t[n]=i[n]);return u(i,"toString")&&(t.toString=i.toString),u(i,"valueOf")&&(t.valueOf=i.valueOf),t}function v(t,i,n,e){return Di(t,i,n,e,!0).utc()}function m(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function p(t){if(null==t._isValid){var i=m(t),n=e.call(i.parsedDateParts,(function(t){return null!=t})),s=!isNaN(t._d.getTime())&&i.overflow<0&&!i.empty&&!i.invalidEra&&!i.invalidMonth&&!i.invalidWeekday&&!i.weekdayMismatch&&!i.nullInput&&!i.invalidFormat&&!i.userInvalidated&&(!i.meridiem||i.meridiem&&n);if(t._strict&&(s=s&&0===i.charsLeftOver&&0===i.unusedTokens.length&&void 0===i.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return s;t._isValid=s}return t._isValid}function y(t){var i=v(NaN);return null!=t?d(m(i),t):m(i).userInvalidated=!0,i}e=Array.prototype.some?Array.prototype.some:function(t){var i,n=Object(this),e=n.length>>>0;for(i=0;i<e;i++)if(i in n&&t.call(this,n[i],i,n))return!0;return!1};var S=s.momentProperties=[],b=!1;function g(t,i){var n,e,s;if(a(i._isAMomentObject)||(t._isAMomentObject=i._isAMomentObject),a(i._i)||(t._i=i._i),a(i._f)||(t._f=i._f),a(i._l)||(t._l=i._l),a(i._strict)||(t._strict=i._strict),a(i._tzm)||(t._tzm=i._tzm),a(i._isUTC)||(t._isUTC=i._isUTC),a(i._offset)||(t._offset=i._offset),a(i._pf)||(t._pf=m(i)),a(i._locale)||(t._locale=i._locale),S.length>0)for(n=0;n<S.length;n++)a(s=i[e=S[n]])||(t[e]=s);return t}function w(t){g(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===b&&(b=!0,s.updateOffset(this),b=!1)}function k(t){return t instanceof w||null!=t&&null!=t._isAMomentObject}function M(t){!1===s.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function Y(t,i){var e=!0;return d((function(){if(null!=s.deprecationHandler&&s.deprecationHandler(null,t),e){var r,o,h,a=[];for(o=0;o<arguments.length;o++){if(r="","object"===n(arguments[o])){for(h in r+="\n["+o+"] ",arguments[0])u(arguments[0],h)&&(r+=h+": "+arguments[0][h]+", ");r=r.slice(0,-2)}else r=arguments[o];a.push(r)}M(t+"\nArguments: "+Array.prototype.slice.call(a).join("")+"\n"+(new Error).stack),e=!1}return i.apply(this,arguments)}),i)}var D,_={};function x(t,i){null!=s.deprecationHandler&&s.deprecationHandler(t,i),_[t]||(M(i),_[t]=!0)}function z(t){return"undefined"!=typeof Function&&t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function C(t,i){var n,e=d({},t);for(n in i)u(i,n)&&(o(t[n])&&o(i[n])?(e[n]={},d(e[n],t[n]),d(e[n],i[n])):null!=i[n]?e[n]=i[n]:delete e[n]);for(n in t)u(t,n)&&!u(i,n)&&o(t[n])&&(e[n]=d({},e[n]));return e}function N(t){null!=t&&this.set(t)}function P(t,i,n){var e=""+Math.abs(t),s=i-e.length;return(t>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+e}s.suppressDeprecationWarnings=!1,s.deprecationHandler=null,D=Object.keys?Object.keys:function(t){var i,n=[];for(i in t)u(t,i)&&n.push(i);return n};var Z=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,T=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,j={},E={};function O(t,i,n,e){var s=e;"string"==typeof e&&(s=function(){return this[e]()}),t&&(E[t]=s),i&&(E[i[0]]=function(){return P(s.apply(this,arguments),i[1],i[2])}),n&&(E[n]=function(){return this.localeData().ordinal(s.apply(this,arguments),t)})}function H(t,i){return t.isValid()?(i=A(i,t.localeData()),j[i]=j[i]||function(t){var i,n,e,s=t.match(Z);for(i=0,n=s.length;i<n;i++)E[s[i]]?s[i]=E[s[i]]:s[i]=(e=s[i]).match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"");return function(i){var e,r="";for(e=0;e<n;e++)r+=z(s[e])?s[e].call(i,t):s[e];return r}}(i),j[i](t)):t.localeData().invalidDate()}function A(t,i){var n=5;function e(t){return i.longDateFormat(t)||t}for(T.lastIndex=0;n>=0&&T.test(t);)t=t.replace(T,e),T.lastIndex=0,n-=1;return t}var W={};function G(t,i){var n=t.toLowerCase();W[n]=W[n+"s"]=W[i]=t}function L(t){return"string"==typeof t?W[t]||W[t.toLowerCase()]:void 0}function F(t){var i,n,e={};for(n in t)u(t,n)&&(i=L(n))&&(e[i]=t[n]);return e}var I={};function R(t,i){I[t]=i}function U(t){return t%4==0&&t%100!=0||t%400==0}function B(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function $(t){var i=+t,n=0;return 0!==i&&isFinite(i)&&(n=B(i)),n}function q(t,i){return function(n){return null!=n?(X(this,t,n),s.updateOffset(this,i),this):J(this,t)}}function J(t,i){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+i]():NaN}function X(t,i,n){t.isValid()&&!isNaN(n)&&("FullYear"===i&&U(t.year())&&1===t.month()&&29===t.date()?(n=$(n),t._d["set"+(t._isUTC?"UTC":"")+i](n,t.month(),kt(n,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+i](n))}var Q,V=/\d/,K=/\d\d/,tt=/\d{3}/,it=/\d{4}/,nt=/[+-]?\d{6}/,et=/\d\d?/,st=/\d\d\d\d?/,rt=/\d\d\d\d\d\d?/,ot=/\d{1,3}/,ut=/\d{1,4}/,ht=/[+-]?\d{1,6}/,at=/\d+/,lt=/[+-]?\d+/,ct=/Z|[+-]\d\d:?\d\d/gi,ft=/Z|[+-]\d\d(?::?\d\d)?/gi,dt=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function vt(t,i,n){Q[t]=z(i)?i:function(t,e){return t&&n?n:i}}function mt(t,i){return u(Q,t)?Q[t](i._strict,i._locale):new RegExp(pt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,i,n,e,s){return i||n||e||s}))))}function pt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}Q={};var yt,St={};function bt(t,i){var n,e=i;for("string"==typeof t&&(t=[t]),l(i)&&(e=function(t,n){n[i]=$(t)}),n=0;n<t.length;n++)St[t[n]]=e}function gt(t,i){bt(t,(function(t,n,e,s){e._w=e._w||{},i(t,e._w,e,s)}))}function wt(t,i,n){null!=i&&u(St,t)&&St[t](i,n._a,n,t)}function kt(t,i){if(isNaN(t)||isNaN(i))return NaN;var n=(i%12+12)%12;return t+=(i-n)/12,1===n?U(t)?29:28:31-n%7%2}yt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var i;for(i=0;i<this.length;++i)if(this[i]===t)return i;return-1},O("M",["MM",2],"Mo",(function(){return this.month()+1})),O("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),O("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),G("month","M"),R("month",8),vt("M",et),vt("MM",et,K),vt("MMM",(function(t,i){return i.monthsShortRegex(t)})),vt("MMMM",(function(t,i){return i.monthsRegex(t)})),bt(["M","MM"],(function(t,i){i[1]=$(t)-1})),bt(["MMM","MMMM"],(function(t,i,n,e){var s=n._locale.monthsParse(t,e,n._strict);null!=s?i[1]=s:m(n).invalidMonth=t}));var Mt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Yt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Dt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,_t=dt,xt=dt;function zt(t,i,n){var e,s,r,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],e=0;e<12;++e)r=v([2e3,e]),this._shortMonthsParse[e]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[e]=this.months(r,"").toLocaleLowerCase();return n?"MMM"===i?-1!==(s=yt.call(this._shortMonthsParse,o))?s:null:-1!==(s=yt.call(this._longMonthsParse,o))?s:null:"MMM"===i?-1!==(s=yt.call(this._shortMonthsParse,o))||-1!==(s=yt.call(this._longMonthsParse,o))?s:null:-1!==(s=yt.call(this._longMonthsParse,o))||-1!==(s=yt.call(this._shortMonthsParse,o))?s:null}function Ct(t,i){var n;if(!t.isValid())return t;if("string"==typeof i)if(/^\d+$/.test(i))i=$(i);else if(!l(i=t.localeData().monthsParse(i)))return t;return n=Math.min(t.date(),kt(t.year(),i)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](i,n),t}function Nt(t){return null!=t?(Ct(this,t),s.updateOffset(this,!0),this):J(this,"Month")}function Pt(){function t(t,i){return i.length-t.length}var i,n,e=[],s=[],r=[];for(i=0;i<12;i++)n=v([2e3,i]),e.push(this.monthsShort(n,"")),s.push(this.months(n,"")),r.push(this.months(n,"")),r.push(this.monthsShort(n,""));for(e.sort(t),s.sort(t),r.sort(t),i=0;i<12;i++)e[i]=pt(e[i]),s[i]=pt(s[i]);for(i=0;i<24;i++)r[i]=pt(r[i]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function Zt(t){return U(t)?366:365}O("Y",0,0,(function(){var t=this.year();return t<=9999?P(t,4):"+"+t})),O(0,["YY",2],0,(function(){return this.year()%100})),O(0,["YYYY",4],0,"year"),O(0,["YYYYY",5],0,"year"),O(0,["YYYYYY",6,!0],0,"year"),G("year","y"),R("year",1),vt("Y",lt),vt("YY",et,K),vt("YYYY",ut,it),vt("YYYYY",ht,nt),vt("YYYYYY",ht,nt),bt(["YYYYY","YYYYYY"],0),bt("YYYY",(function(t,i){i[0]=2===t.length?s.parseTwoDigitYear(t):$(t)})),bt("YY",(function(t,i){i[0]=s.parseTwoDigitYear(t)})),bt("Y",(function(t,i){i[0]=parseInt(t,10)})),s.parseTwoDigitYear=function(t){return $(t)+($(t)>68?1900:2e3)};var Tt=q("FullYear",!0);function jt(t,i,n,e,s,r,o){var u;return t<100&&t>=0?(u=new Date(t+400,i,n,e,s,r,o),isFinite(u.getFullYear())&&u.setFullYear(t)):u=new Date(t,i,n,e,s,r,o),u}function Et(t){var i,n;return t<100&&t>=0?((n=Array.prototype.slice.call(arguments))[0]=t+400,i=new Date(Date.UTC.apply(null,n)),isFinite(i.getUTCFullYear())&&i.setUTCFullYear(t)):i=new Date(Date.UTC.apply(null,arguments)),i}function Ot(t,i,n){var e=7+i-n;return-(7+Et(t,0,e).getUTCDay()-i)%7+e-1}function Ht(t,i,n,e,s){var r,o,u=1+7*(i-1)+(7+n-e)%7+Ot(t,e,s);return u<=0?o=Zt(r=t-1)+u:u>Zt(t)?(r=t+1,o=u-Zt(t)):(r=t,o=u),{year:r,dayOfYear:o}}function At(t,i,n){var e,s,r=Ot(t.year(),i,n),o=Math.floor((t.dayOfYear()-r-1)/7)+1;return o<1?e=o+Wt(s=t.year()-1,i,n):o>Wt(t.year(),i,n)?(e=o-Wt(t.year(),i,n),s=t.year()+1):(s=t.year(),e=o),{week:e,year:s}}function Wt(t,i,n){var e=Ot(t,i,n),s=Ot(t+1,i,n);return(Zt(t)-e+s)/7}function Gt(t,i){return t.slice(i,7).concat(t.slice(0,i))}O("w",["ww",2],"wo","week"),O("W",["WW",2],"Wo","isoWeek"),G("week","w"),G("isoWeek","W"),R("week",5),R("isoWeek",5),vt("w",et),vt("ww",et,K),vt("W",et),vt("WW",et,K),gt(["w","ww","W","WW"],(function(t,i,n,e){i[e.substr(0,1)]=$(t)})),O("d",0,"do","day"),O("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),O("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),O("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),O("e",0,0,"weekday"),O("E",0,0,"isoWeekday"),G("day","d"),G("weekday","e"),G("isoWeekday","E"),R("day",11),R("weekday",11),R("isoWeekday",11),vt("d",et),vt("e",et),vt("E",et),vt("dd",(function(t,i){return i.weekdaysMinRegex(t)})),vt("ddd",(function(t,i){return i.weekdaysShortRegex(t)})),vt("dddd",(function(t,i){return i.weekdaysRegex(t)})),gt(["dd","ddd","dddd"],(function(t,i,n,e){var s=n._locale.weekdaysParse(t,e,n._strict);null!=s?i.d=s:m(n).invalidWeekday=t})),gt(["d","e","E"],(function(t,i,n,e){i[e]=$(t)}));var Lt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ft="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),It="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Rt=dt,Ut=dt,Bt=dt;function $t(t,i,n){var e,s,r,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],e=0;e<7;++e)r=v([2e3,1]).day(e),this._minWeekdaysParse[e]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[e]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[e]=this.weekdays(r,"").toLocaleLowerCase();return n?"dddd"===i?-1!==(s=yt.call(this._weekdaysParse,o))?s:null:"ddd"===i?-1!==(s=yt.call(this._shortWeekdaysParse,o))?s:null:-1!==(s=yt.call(this._minWeekdaysParse,o))?s:null:"dddd"===i?-1!==(s=yt.call(this._weekdaysParse,o))||-1!==(s=yt.call(this._shortWeekdaysParse,o))||-1!==(s=yt.call(this._minWeekdaysParse,o))?s:null:"ddd"===i?-1!==(s=yt.call(this._shortWeekdaysParse,o))||-1!==(s=yt.call(this._weekdaysParse,o))||-1!==(s=yt.call(this._minWeekdaysParse,o))?s:null:-1!==(s=yt.call(this._minWeekdaysParse,o))||-1!==(s=yt.call(this._weekdaysParse,o))||-1!==(s=yt.call(this._shortWeekdaysParse,o))?s:null}function qt(){function t(t,i){return i.length-t.length}var i,n,e,s,r,o=[],u=[],h=[],a=[];for(i=0;i<7;i++)n=v([2e3,1]).day(i),e=pt(this.weekdaysMin(n,"")),s=pt(this.weekdaysShort(n,"")),r=pt(this.weekdays(n,"")),o.push(e),u.push(s),h.push(r),a.push(e),a.push(s),a.push(r);o.sort(t),u.sort(t),h.sort(t),a.sort(t),this._weekdaysRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Jt(){return this.hours()%12||12}function Xt(t,i){O(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),i)}))}function Qt(t,i){return i._meridiemParse}O("H",["HH",2],0,"hour"),O("h",["hh",2],0,Jt),O("k",["kk",2],0,(function(){return this.hours()||24})),O("hmm",0,0,(function(){return""+Jt.apply(this)+P(this.minutes(),2)})),O("hmmss",0,0,(function(){return""+Jt.apply(this)+P(this.minutes(),2)+P(this.seconds(),2)})),O("Hmm",0,0,(function(){return""+this.hours()+P(this.minutes(),2)})),O("Hmmss",0,0,(function(){return""+this.hours()+P(this.minutes(),2)+P(this.seconds(),2)})),Xt("a",!0),Xt("A",!1),G("hour","h"),R("hour",13),vt("a",Qt),vt("A",Qt),vt("H",et),vt("h",et),vt("k",et),vt("HH",et,K),vt("hh",et,K),vt("kk",et,K),vt("hmm",st),vt("hmmss",rt),vt("Hmm",st),vt("Hmmss",rt),bt(["H","HH"],3),bt(["k","kk"],(function(t,i,n){var e=$(t);i[3]=24===e?0:e})),bt(["a","A"],(function(t,i,n){n._isPm=n._locale.isPM(t),n._meridiem=t})),bt(["h","hh"],(function(t,i,n){i[3]=$(t),m(n).bigHour=!0})),bt("hmm",(function(t,i,n){var e=t.length-2;i[3]=$(t.substr(0,e)),i[4]=$(t.substr(e)),m(n).bigHour=!0})),bt("hmmss",(function(t,i,n){var e=t.length-4,s=t.length-2;i[3]=$(t.substr(0,e)),i[4]=$(t.substr(e,2)),i[5]=$(t.substr(s)),m(n).bigHour=!0})),bt("Hmm",(function(t,i,n){var e=t.length-2;i[3]=$(t.substr(0,e)),i[4]=$(t.substr(e))})),bt("Hmmss",(function(t,i,n){var e=t.length-4,s=t.length-2;i[3]=$(t.substr(0,e)),i[4]=$(t.substr(e,2)),i[5]=$(t.substr(s))}));var Vt,Kt=q("Hours",!0),ti={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Mt,monthsShort:Yt,week:{dow:0,doy:6},weekdays:Lt,weekdaysMin:It,weekdaysShort:Ft,meridiemParse:/[ap]\.?m?\.?/i},ii={},ni={};function ei(t,i){var n,e=Math.min(t.length,i.length);for(n=0;n<e;n+=1)if(t[n]!==i[n])return n;return e}function si(t){return t?t.toLowerCase().replace("_","-"):t}function ri(t){var n=null;if(void 0===ii[t]&&void 0!==i&&i&&i.exports)try{n=Vt._abbr,function(t){if("undefined"!=typeof require)return require(t);throw new Error('Dynamic require of "'+t+'" is not supported')}("./locale/"+t),oi(n)}catch(i){ii[t]=null}return ii[t]}function oi(t,i){var n;return t&&((n=a(i)?hi(t):ui(t,i))?Vt=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Vt._abbr}function ui(t,i){if(null!==i){var n,e=ti;if(i.abbr=t,null!=ii[t])x("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),e=ii[t]._config;else if(null!=i.parentLocale)if(null!=ii[i.parentLocale])e=ii[i.parentLocale]._config;else{if(null==(n=ri(i.parentLocale)))return ni[i.parentLocale]||(ni[i.parentLocale]=[]),ni[i.parentLocale].push({name:t,config:i}),null;e=n._config}return ii[t]=new N(C(e,i)),ni[t]&&ni[t].forEach((function(t){ui(t.name,t.config)})),oi(t),ii[t]}return delete ii[t],null}function hi(t){var i;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Vt;if(!r(t)){if(i=ri(t))return i;t=[t]}return function(t){for(var i,n,e,s,r=0;r<t.length;){for(i=(s=si(t[r]).split("-")).length,n=(n=si(t[r+1]))?n.split("-"):null;i>0;){if(e=ri(s.slice(0,i).join("-")))return e;if(n&&n.length>=i&&ei(s,n)>=i-1)break;i--}r++}return Vt}(t)}function ai(t){var i,n=t._a;return n&&-2===m(t).overflow&&(i=n[1]<0||n[1]>11?1:n[2]<1||n[2]>kt(n[0],n[1])?2:n[3]<0||n[3]>24||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:n[4]<0||n[4]>59?4:n[5]<0||n[5]>59?5:n[6]<0||n[6]>999?6:-1,m(t)._overflowDayOfYear&&(i<0||i>2)&&(i=2),m(t)._overflowWeeks&&-1===i&&(i=7),m(t)._overflowWeekday&&-1===i&&(i=8),m(t).overflow=i),t}var li=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ci=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,fi=/Z|[+-]\d\d(?::?\d\d)?/,di=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],vi=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],mi=/^\/?Date\((-?\d+)/i,pi=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,yi={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Si(t){var i,n,e,s,r,o,u=t._i,h=li.exec(u)||ci.exec(u);if(h){for(m(t).iso=!0,i=0,n=di.length;i<n;i++)if(di[i][1].exec(h[1])){s=di[i][0],e=!1!==di[i][2];break}if(null==s)return void(t._isValid=!1);if(h[3]){for(i=0,n=vi.length;i<n;i++)if(vi[i][1].exec(h[3])){r=(h[2]||" ")+vi[i][0];break}if(null==r)return void(t._isValid=!1)}if(!e&&null!=r)return void(t._isValid=!1);if(h[4]){if(!fi.exec(h[4]))return void(t._isValid=!1);o="Z"}t._f=s+(r||"")+(o||""),Mi(t)}else t._isValid=!1}function bi(t){var i=parseInt(t,10);return i<=49?2e3+i:i<=999?1900+i:i}function gi(t){var i,n,e,s,r,o,u,h,a=pi.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(a){if(n=a[4],e=a[3],s=a[2],r=a[5],o=a[6],u=a[7],h=[bi(n),Yt.indexOf(e),parseInt(s,10),parseInt(r,10),parseInt(o,10)],u&&h.push(parseInt(u,10)),i=h,!function(t,i,n){return!t||Ft.indexOf(t)===new Date(i[0],i[1],i[2]).getDay()||(m(n).weekdayMismatch=!0,n._isValid=!1,!1)}(a[1],i,t))return;t._a=i,t._tzm=function(t,i,n){if(t)return yi[t];if(i)return 0;var e=parseInt(n,10),s=e%100;return(e-s)/100*60+s}(a[8],a[9],a[10]),t._d=Et.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),m(t).rfc2822=!0}else t._isValid=!1}function wi(t,i,n){return null!=t?t:null!=i?i:n}function ki(t){var i,n,e,r,o,u=[];if(!t._d){for(e=function(t){var i=new Date(s.now());return t._useUTC?[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()]:[i.getFullYear(),i.getMonth(),i.getDate()]}(t),t._w&&null==t._a[2]&&null==t._a[1]&&function(t){var i,n,e,s,r,o,u,h,a;null!=(i=t._w).GG||null!=i.W||null!=i.E?(r=1,o=4,n=wi(i.GG,t._a[0],At(_i(),1,4).year),e=wi(i.W,1),((s=wi(i.E,1))<1||s>7)&&(h=!0)):(r=t._locale._week.dow,o=t._locale._week.doy,a=At(_i(),r,o),n=wi(i.gg,t._a[0],a.year),e=wi(i.w,a.week),null!=i.d?((s=i.d)<0||s>6)&&(h=!0):null!=i.e?(s=i.e+r,(i.e<0||i.e>6)&&(h=!0)):s=r),e<1||e>Wt(n,r,o)?m(t)._overflowWeeks=!0:null!=h?m(t)._overflowWeekday=!0:(u=Ht(n,e,s,r,o),t._a[0]=u.year,t._dayOfYear=u.dayOfYear)}(t),null!=t._dayOfYear&&(o=wi(t._a[0],e[0]),(t._dayOfYear>Zt(o)||0===t._dayOfYear)&&(m(t)._overflowDayOfYear=!0),n=Et(o,0,t._dayOfYear),t._a[1]=n.getUTCMonth(),t._a[2]=n.getUTCDate()),i=0;i<3&&null==t._a[i];++i)t._a[i]=u[i]=e[i];for(;i<7;i++)t._a[i]=u[i]=null==t._a[i]?2===i?1:0:t._a[i];24===t._a[3]&&0===t._a[4]&&0===t._a[5]&&0===t._a[6]&&(t._nextDay=!0,t._a[3]=0),t._d=(t._useUTC?Et:jt).apply(null,u),r=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[3]=24),t._w&&void 0!==t._w.d&&t._w.d!==r&&(m(t).weekdayMismatch=!0)}}function Mi(t){if(t._f!==s.ISO_8601)if(t._f!==s.RFC_2822){t._a=[],m(t).empty=!0;var i,n,e,r,o,u,h=""+t._i,a=h.length,l=0;for(e=A(t._f,t._locale).match(Z)||[],i=0;i<e.length;i++)r=e[i],(n=(h.match(mt(r,t))||[])[0])&&((o=h.substr(0,h.indexOf(n))).length>0&&m(t).unusedInput.push(o),h=h.slice(h.indexOf(n)+n.length),l+=n.length),E[r]?(n?m(t).empty=!1:m(t).unusedTokens.push(r),wt(r,n,t)):t._strict&&!n&&m(t).unusedTokens.push(r);m(t).charsLeftOver=a-l,h.length>0&&m(t).unusedInput.push(h),t._a[3]<=12&&!0===m(t).bigHour&&t._a[3]>0&&(m(t).bigHour=void 0),m(t).parsedDateParts=t._a.slice(0),m(t).meridiem=t._meridiem,t._a[3]=(c=t._locale,f=t._a[3],null==(d=t._meridiem)?f:null!=c.meridiemHour?c.meridiemHour(f,d):null!=c.isPM?((v=c.isPM(d))&&f<12&&(f+=12),v||12!==f||(f=0),f):f),null!==(u=m(t).era)&&(t._a[0]=t._locale.erasConvertYear(u,t._a[0])),ki(t),ai(t)}else gi(t);else Si(t);var c,f,d,v}function Yi(t){var i=t._i,n=t._f;return t._locale=t._locale||hi(t._l),null===i||void 0===n&&""===i?y({nullInput:!0}):("string"==typeof i&&(t._i=i=t._locale.preparse(i)),k(i)?new w(ai(i)):(c(i)?t._d=i:r(n)?function(t){var i,n,e,s,r,o,u=!1;if(0===t._f.length)return m(t).invalidFormat=!0,void(t._d=new Date(NaN));for(s=0;s<t._f.length;s++)r=0,o=!1,i=g({},t),null!=t._useUTC&&(i._useUTC=t._useUTC),i._f=t._f[s],Mi(i),p(i)&&(o=!0),r+=m(i).charsLeftOver,r+=10*m(i).unusedTokens.length,m(i).score=r,u?r<e&&(e=r,n=i):(null==e||r<e||o)&&(e=r,n=i,o&&(u=!0));d(t,n||i)}(t):n?Mi(t):function(t){var i=t._i;a(i)?t._d=new Date(s.now()):c(i)?t._d=new Date(i.valueOf()):"string"==typeof i?function(t){var i=mi.exec(t._i);null===i?(Si(t),!1===t._isValid&&(delete t._isValid,gi(t),!1===t._isValid&&(delete t._isValid,t._strict?t._isValid=!1:s.createFromInputFallback(t)))):t._d=new Date(+i[1])}(t):r(i)?(t._a=f(i.slice(0),(function(t){return parseInt(t,10)})),ki(t)):o(i)?function(t){if(!t._d){var i=F(t._i),n=void 0===i.day?i.date:i.day;t._a=f([i.year,i.month,n,i.hour,i.minute,i.second,i.millisecond],(function(t){return t&&parseInt(t,10)})),ki(t)}}(t):l(i)?t._d=new Date(i):s.createFromInputFallback(t)}(t),p(t)||(t._d=null),t))}function Di(t,i,n,e,s){var u,a={};return!0!==i&&!1!==i||(e=i,i=void 0),!0!==n&&!1!==n||(e=n,n=void 0),(o(t)&&h(t)||r(t)&&0===t.length)&&(t=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=s,a._l=n,a._i=t,a._f=i,a._strict=e,(u=new w(ai(Yi(a))))._nextDay&&(u.add(1,"d"),u._nextDay=void 0),u}function _i(t,i,n,e){return Di(t,i,n,e,!1)}s.createFromInputFallback=Y("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),s.ISO_8601=function(){},s.RFC_2822=function(){};var xi=Y("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=_i.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:y()})),zi=Y("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=_i.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:y()}));function Ci(t,i){var n,e;if(1===i.length&&r(i[0])&&(i=i[0]),!i.length)return _i();for(n=i[0],e=1;e<i.length;++e)i[e].isValid()&&!i[e][t](n)||(n=i[e]);return n}var Ni=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Pi(t){var i=F(t),n=i.year||0,e=i.quarter||0,s=i.month||0,r=i.week||i.isoWeek||0,o=i.day||0,h=i.hour||0,a=i.minute||0,l=i.second||0,c=i.millisecond||0;this._isValid=function(t){var i,n,e=!1;for(i in t)if(u(t,i)&&(-1===yt.call(Ni,i)||null!=t[i]&&isNaN(t[i])))return!1;for(n=0;n<Ni.length;++n)if(t[Ni[n]]){if(e)return!1;parseFloat(t[Ni[n]])!==$(t[Ni[n]])&&(e=!0)}return!0}(i),this._milliseconds=+c+1e3*l+6e4*a+1e3*h*60*60,this._days=+o+7*r,this._months=+s+3*e+12*n,this._data={},this._locale=hi(),this._bubble()}function Zi(t){return t instanceof Pi}function Ti(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function ji(t,i){O(t,0,0,(function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+P(~~(t/60),2)+i+P(~~t%60,2)}))}ji("Z",":"),ji("ZZ",""),vt("Z",ft),vt("ZZ",ft),bt(["Z","ZZ"],(function(t,i,n){n._useUTC=!0,n._tzm=Oi(ft,t)}));var Ei=/([\+\-]|\d\d)/gi;function Oi(t,i){var n,e,s=(i||"").match(t);return null===s?null:0===(e=60*(n=((s[s.length-1]||[])+"").match(Ei)||["-",0,0])[1]+$(n[2]))?0:"+"===n[0]?e:-e}function Hi(t,i){var n,e;return i._isUTC?(n=i.clone(),e=(k(t)||c(t)?t.valueOf():_i(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+e),s.updateOffset(n,!1),n):_i(t).local()}function Ai(t){return-Math.round(t._d.getTimezoneOffset())}function Wi(){return!!this.isValid()&&this._isUTC&&0===this._offset}s.updateOffset=function(){};var Gi=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Li=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Fi(t,i){var e,s,r,o,h,a,c=t,f=null;return Zi(t)?c={ms:t._milliseconds,d:t._days,M:t._months}:l(t)||!isNaN(+t)?(c={},i?c[i]=+t:c.milliseconds=+t):(f=Gi.exec(t))?(e="-"===f[1]?-1:1,c={y:0,d:$(f[2])*e,h:$(f[3])*e,m:$(f[4])*e,s:$(f[5])*e,ms:$(Ti(1e3*f[6]))*e}):(f=Li.exec(t))?(e="-"===f[1]?-1:1,c={y:Ii(f[2],e),M:Ii(f[3],e),w:Ii(f[4],e),d:Ii(f[5],e),h:Ii(f[6],e),m:Ii(f[7],e),s:Ii(f[8],e)}):null==c?c={}:"object"===n(c)&&("from"in c||"to"in c)&&(o=_i(c.from),h=_i(c.to),r=o.isValid()&&h.isValid()?(h=Hi(h,o),o.isBefore(h)?a=Ri(o,h):((a=Ri(h,o)).milliseconds=-a.milliseconds,a.months=-a.months),a):{milliseconds:0,months:0},(c={}).ms=r.milliseconds,c.M=r.months),s=new Pi(c),Zi(t)&&u(t,"_locale")&&(s._locale=t._locale),Zi(t)&&u(t,"_isValid")&&(s._isValid=t._isValid),s}function Ii(t,i){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*i}function Ri(t,i){var n={};return n.months=i.month()-t.month()+12*(i.year()-t.year()),t.clone().add(n.months,"M").isAfter(i)&&--n.months,n.milliseconds=+i-+t.clone().add(n.months,"M"),n}function Ui(t,i){return function(n,e){var s;return null===e||isNaN(+e)||(x(i,"moment()."+i+"(period, number) is deprecated. Please use moment()."+i+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=n,n=e,e=s),Bi(this,Fi(n,e),t),this}}function Bi(t,i,n,e){var r=i._milliseconds,o=Ti(i._days),u=Ti(i._months);t.isValid()&&(e=null==e||e,u&&Ct(t,J(t,"Month")+u*n),o&&X(t,"Date",J(t,"Date")+o*n),r&&t._d.setTime(t._d.valueOf()+r*n),e&&s.updateOffset(t,o||u))}Fi.fn=Pi.prototype,Fi.invalid=function(){return Fi(NaN)};var $i=Ui(1,"add"),qi=Ui(-1,"subtract");function Ji(t){return"string"==typeof t||t instanceof String}function Xi(t){return k(t)||c(t)||Ji(t)||l(t)||function(t){var i=r(t),n=!1;return i&&(n=0===t.filter((function(i){return!l(i)&&Ji(t)})).length),i&&n}(t)||function(t){var i,n=o(t)&&!h(t),e=!1,s=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(i=0;i<s.length;i+=1)e=e||u(t,s[i]);return n&&e}(t)||null==t}function Qi(t){var i,n=o(t)&&!h(t),e=!1,s=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(i=0;i<s.length;i+=1)e=e||u(t,s[i]);return n&&e}function Vi(t,i){if(t.date()<i.date())return-Vi(i,t);var n=12*(i.year()-t.year())+(i.month()-t.month()),e=t.clone().add(n,"months");return-(n+(i-e<0?(i-e)/(e-t.clone().add(n-1,"months")):(i-e)/(t.clone().add(n+1,"months")-e)))||0}function Ki(t){var i;return void 0===t?this._locale._abbr:(null!=(i=hi(t))&&(this._locale=i),this)}s.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",s.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var tn=Y("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));function nn(){return this._locale}var en=1e3,sn=6e4,rn=36e5,on=126227808e5;function un(t,i){return(t%i+i)%i}function hn(t,i,n){return t<100&&t>=0?new Date(t+400,i,n)-on:new Date(t,i,n).valueOf()}function an(t,i,n){return t<100&&t>=0?Date.UTC(t+400,i,n)-on:Date.UTC(t,i,n)}function ln(t,i){return i.erasAbbrRegex(t)}function cn(){var t,i,n=[],e=[],s=[],r=[],o=this.eras();for(t=0,i=o.length;t<i;++t)e.push(pt(o[t].name)),n.push(pt(o[t].abbr)),s.push(pt(o[t].narrow)),r.push(pt(o[t].name)),r.push(pt(o[t].abbr)),r.push(pt(o[t].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+s.join("|")+")","i")}function fn(t,i){O(0,[t,t.length],0,i)}function dn(t,i,n,e,s){var r;return null==t?At(this,e,s).year:(i>(r=Wt(t,e,s))&&(i=r),vn.call(this,t,i,n,e,s))}function vn(t,i,n,e,s){var r=Ht(t,i,n,e,s),o=Et(r.year,0,r.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}O("N",0,0,"eraAbbr"),O("NN",0,0,"eraAbbr"),O("NNN",0,0,"eraAbbr"),O("NNNN",0,0,"eraName"),O("NNNNN",0,0,"eraNarrow"),O("y",["y",1],"yo","eraYear"),O("y",["yy",2],0,"eraYear"),O("y",["yyy",3],0,"eraYear"),O("y",["yyyy",4],0,"eraYear"),vt("N",ln),vt("NN",ln),vt("NNN",ln),vt("NNNN",(function(t,i){return i.erasNameRegex(t)})),vt("NNNNN",(function(t,i){return i.erasNarrowRegex(t)})),bt(["N","NN","NNN","NNNN","NNNNN"],(function(t,i,n,e){var s=n._locale.erasParse(t,e,n._strict);s?m(n).era=s:m(n).invalidEra=t})),vt("y",at),vt("yy",at),vt("yyy",at),vt("yyyy",at),vt("yo",(function(t,i){return i._eraYearOrdinalRegex||at})),bt(["y","yy","yyy","yyyy"],0),bt(["yo"],(function(t,i,n,e){var s;n._locale._eraYearOrdinalRegex&&(s=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?i[0]=n._locale.eraYearOrdinalParse(t,s):i[0]=parseInt(t,10)})),O(0,["gg",2],0,(function(){return this.weekYear()%100})),O(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),fn("gggg","weekYear"),fn("ggggg","weekYear"),fn("GGGG","isoWeekYear"),fn("GGGGG","isoWeekYear"),G("weekYear","gg"),G("isoWeekYear","GG"),R("weekYear",1),R("isoWeekYear",1),vt("G",lt),vt("g",lt),vt("GG",et,K),vt("gg",et,K),vt("GGGG",ut,it),vt("gggg",ut,it),vt("GGGGG",ht,nt),vt("ggggg",ht,nt),gt(["gggg","ggggg","GGGG","GGGGG"],(function(t,i,n,e){i[e.substr(0,2)]=$(t)})),gt(["gg","GG"],(function(t,i,n,e){i[e]=s.parseTwoDigitYear(t)})),O("Q",0,"Qo","quarter"),G("quarter","Q"),R("quarter",7),vt("Q",V),bt("Q",(function(t,i){i[1]=3*($(t)-1)})),O("D",["DD",2],"Do","date"),G("date","D"),R("date",9),vt("D",et),vt("DD",et,K),vt("Do",(function(t,i){return t?i._dayOfMonthOrdinalParse||i._ordinalParse:i._dayOfMonthOrdinalParseLenient})),bt(["D","DD"],2),bt("Do",(function(t,i){i[2]=$(t.match(et)[0])}));var mn=q("Date",!0);O("DDD",["DDDD",3],"DDDo","dayOfYear"),G("dayOfYear","DDD"),R("dayOfYear",4),vt("DDD",ot),vt("DDDD",tt),bt(["DDD","DDDD"],(function(t,i,n){n._dayOfYear=$(t)})),O("m",["mm",2],0,"minute"),G("minute","m"),R("minute",14),vt("m",et),vt("mm",et,K),bt(["m","mm"],4);var pn=q("Minutes",!1);O("s",["ss",2],0,"second"),G("second","s"),R("second",15),vt("s",et),vt("ss",et,K),bt(["s","ss"],5);var yn,Sn,bn=q("Seconds",!1);for(O("S",0,0,(function(){return~~(this.millisecond()/100)})),O(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),O(0,["SSS",3],0,"millisecond"),O(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),O(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),O(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),O(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),O(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),O(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),G("millisecond","ms"),R("millisecond",16),vt("S",ot,V),vt("SS",ot,K),vt("SSS",ot,tt),yn="SSSS";yn.length<=9;yn+="S")vt(yn,at);function gn(t,i){i[6]=$(1e3*("0."+t))}for(yn="S";yn.length<=9;yn+="S")bt(yn,gn);Sn=q("Milliseconds",!1),O("z",0,0,"zoneAbbr"),O("zz",0,0,"zoneName");var wn=w.prototype;function kn(t){return t}wn.add=$i,wn.calendar=function(t,i){1===arguments.length&&(arguments[0]?Xi(arguments[0])?(t=arguments[0],i=void 0):Qi(arguments[0])&&(i=arguments[0],t=void 0):(t=void 0,i=void 0));var n=t||_i(),e=Hi(n,this).startOf("day"),r=s.calendarFormat(this,e)||"sameElse",o=i&&(z(i[r])?i[r].call(this,n):i[r]);return this.format(o||this.localeData().calendar(r,this,_i(n)))},wn.clone=function(){return new w(this)},wn.diff=function(t,i,n){var e,s,r;if(!this.isValid())return NaN;if(!(e=Hi(t,this)).isValid())return NaN;switch(s=6e4*(e.utcOffset()-this.utcOffset()),i=L(i)){case"year":r=Vi(this,e)/12;break;case"month":r=Vi(this,e);break;case"quarter":r=Vi(this,e)/3;break;case"second":r=(this-e)/1e3;break;case"minute":r=(this-e)/6e4;break;case"hour":r=(this-e)/36e5;break;case"day":r=(this-e-s)/864e5;break;case"week":r=(this-e-s)/6048e5;break;default:r=this-e}return n?r:B(r)},wn.endOf=function(t){var i,n;if(void 0===(t=L(t))||"millisecond"===t||!this.isValid())return this;switch(n=this._isUTC?an:hn,t){case"year":i=n(this.year()+1,0,1)-1;break;case"quarter":i=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":i=n(this.year(),this.month()+1,1)-1;break;case"week":i=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":i=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":i=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":i=this._d.valueOf(),i+=rn-un(i+(this._isUTC?0:this.utcOffset()*sn),rn)-1;break;case"minute":i=this._d.valueOf(),i+=sn-un(i,sn)-1;break;case"second":i=this._d.valueOf(),i+=en-un(i,en)-1}return this._d.setTime(i),s.updateOffset(this,!0),this},wn.format=function(t){t||(t=this.isUtc()?s.defaultFormatUtc:s.defaultFormat);var i=H(this,t);return this.localeData().postformat(i)},wn.from=function(t,i){return this.isValid()&&(k(t)&&t.isValid()||_i(t).isValid())?Fi({to:this,from:t}).locale(this.locale()).humanize(!i):this.localeData().invalidDate()},wn.fromNow=function(t){return this.from(_i(),t)},wn.to=function(t,i){return this.isValid()&&(k(t)&&t.isValid()||_i(t).isValid())?Fi({from:this,to:t}).locale(this.locale()).humanize(!i):this.localeData().invalidDate()},wn.toNow=function(t){return this.to(_i(),t)},wn.get=function(t){return z(this[t=L(t)])?this[t]():this},wn.invalidAt=function(){return m(this).overflow},wn.isAfter=function(t,i){var n=k(t)?t:_i(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(i=L(i)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(i).valueOf())},wn.isBefore=function(t,i){var n=k(t)?t:_i(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(i=L(i)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(i).valueOf()<n.valueOf())},wn.isBetween=function(t,i,n,e){var s=k(t)?t:_i(t),r=k(i)?i:_i(i);return!!(this.isValid()&&s.isValid()&&r.isValid())&&("("===(e=e||"()")[0]?this.isAfter(s,n):!this.isBefore(s,n))&&(")"===e[1]?this.isBefore(r,n):!this.isAfter(r,n))},wn.isSame=function(t,i){var n,e=k(t)?t:_i(t);return!(!this.isValid()||!e.isValid())&&("millisecond"===(i=L(i)||"millisecond")?this.valueOf()===e.valueOf():(n=e.valueOf(),this.clone().startOf(i).valueOf()<=n&&n<=this.clone().endOf(i).valueOf()))},wn.isSameOrAfter=function(t,i){return this.isSame(t,i)||this.isAfter(t,i)},wn.isSameOrBefore=function(t,i){return this.isSame(t,i)||this.isBefore(t,i)},wn.isValid=function(){return p(this)},wn.lang=tn,wn.locale=Ki,wn.localeData=nn,wn.max=zi,wn.min=xi,wn.parsingFlags=function(){return d({},m(this))},wn.set=function(t,i){if("object"===n(t)){var e,s=function(t){var i,n=[];for(i in t)u(t,i)&&n.push({unit:i,priority:I[i]});return n.sort((function(t,i){return t.priority-i.priority})),n}(t=F(t));for(e=0;e<s.length;e++)this[s[e].unit](t[s[e].unit])}else if(z(this[t=L(t)]))return this[t](i);return this},wn.startOf=function(t){var i,n;if(void 0===(t=L(t))||"millisecond"===t||!this.isValid())return this;switch(n=this._isUTC?an:hn,t){case"year":i=n(this.year(),0,1);break;case"quarter":i=n(this.year(),this.month()-this.month()%3,1);break;case"month":i=n(this.year(),this.month(),1);break;case"week":i=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":i=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":i=n(this.year(),this.month(),this.date());break;case"hour":i=this._d.valueOf(),i-=un(i+(this._isUTC?0:this.utcOffset()*sn),rn);break;case"minute":i=this._d.valueOf(),i-=un(i,sn);break;case"second":i=this._d.valueOf(),i-=un(i,en)}return this._d.setTime(i),s.updateOffset(this,!0),this},wn.subtract=qi,wn.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},wn.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},wn.toDate=function(){return new Date(this.valueOf())},wn.toISOString=function(t){if(!this.isValid())return null;var i=!0!==t,n=i?this.clone().utc():this;return n.year()<0||n.year()>9999?H(n,i?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):z(Date.prototype.toISOString)?i?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",H(n,"Z")):H(n,i?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},wn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t,i,n,e="moment",s="";return this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",s="Z"),t="["+e+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n=s+'[")]',this.format(t+i+"-MM-DD[T]HH:mm:ss.SSS"+n)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(wn[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),wn.toJSON=function(){return this.isValid()?this.toISOString():null},wn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},wn.unix=function(){return Math.floor(this.valueOf()/1e3)},wn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},wn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},wn.eraName=function(){var t,i,n,e=this.localeData().eras();for(t=0,i=e.length;t<i;++t){if(n=this.clone().startOf("day").valueOf(),e[t].since<=n&&n<=e[t].until)return e[t].name;if(e[t].until<=n&&n<=e[t].since)return e[t].name}return""},wn.eraNarrow=function(){var t,i,n,e=this.localeData().eras();for(t=0,i=e.length;t<i;++t){if(n=this.clone().startOf("day").valueOf(),e[t].since<=n&&n<=e[t].until)return e[t].narrow;if(e[t].until<=n&&n<=e[t].since)return e[t].narrow}return""},wn.eraAbbr=function(){var t,i,n,e=this.localeData().eras();for(t=0,i=e.length;t<i;++t){if(n=this.clone().startOf("day").valueOf(),e[t].since<=n&&n<=e[t].until)return e[t].abbr;if(e[t].until<=n&&n<=e[t].since)return e[t].abbr}return""},wn.eraYear=function(){var t,i,n,e,r=this.localeData().eras();for(t=0,i=r.length;t<i;++t)if(n=r[t].since<=r[t].until?1:-1,e=this.clone().startOf("day").valueOf(),r[t].since<=e&&e<=r[t].until||r[t].until<=e&&e<=r[t].since)return(this.year()-s(r[t].since).year())*n+r[t].offset;return this.year()},wn.year=Tt,wn.isLeapYear=function(){return U(this.year())},wn.weekYear=function(t){return dn.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},wn.isoWeekYear=function(t){return dn.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},wn.quarter=wn.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},wn.month=Nt,wn.daysInMonth=function(){return kt(this.year(),this.month())},wn.week=wn.weeks=function(t){var i=this.localeData().week(this);return null==t?i:this.add(7*(t-i),"d")},wn.isoWeek=wn.isoWeeks=function(t){var i=At(this,1,4).week;return null==t?i:this.add(7*(t-i),"d")},wn.weeksInYear=function(){var t=this.localeData()._week;return Wt(this.year(),t.dow,t.doy)},wn.weeksInWeekYear=function(){var t=this.localeData()._week;return Wt(this.weekYear(),t.dow,t.doy)},wn.isoWeeksInYear=function(){return Wt(this.year(),1,4)},wn.isoWeeksInISOWeekYear=function(){return Wt(this.isoWeekYear(),1,4)},wn.date=mn,wn.day=wn.days=function(t){if(!this.isValid())return null!=t?this:NaN;var i=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=function(t,i){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=i.weekdaysParse(t))?t:null:parseInt(t,10)}(t,this.localeData()),this.add(t-i,"d")):i},wn.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var i=(this.day()+7-this.localeData()._week.dow)%7;return null==t?i:this.add(t-i,"d")},wn.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var i=function(t,i){return"string"==typeof t?i.weekdaysParse(t)%7||7:isNaN(t)?null:t}(t,this.localeData());return this.day(this.day()%7?i:i-7)}return this.day()||7},wn.dayOfYear=function(t){var i=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?i:this.add(t-i,"d")},wn.hour=wn.hours=Kt,wn.minute=wn.minutes=pn,wn.second=wn.seconds=bn,wn.millisecond=wn.milliseconds=Sn,wn.utcOffset=function(t,i,n){var e,r=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=Oi(ft,t)))return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&i&&(e=Ai(this)),this._offset=t,this._isUTC=!0,null!=e&&this.add(e,"m"),r!==t&&(!i||this._changeInProgress?Bi(this,Fi(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,s.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:Ai(this)},wn.utc=function(t){return this.utcOffset(0,t)},wn.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Ai(this),"m")),this},wn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Oi(ct,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},wn.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?_i(t).utcOffset():0,(this.utcOffset()-t)%60==0)},wn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},wn.isLocal=function(){return!!this.isValid()&&!this._isUTC},wn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},wn.isUtc=Wi,wn.isUTC=Wi,wn.zoneAbbr=function(){return this._isUTC?"UTC":""},wn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},wn.dates=Y("dates accessor is deprecated. Use date instead.",mn),wn.months=Y("months accessor is deprecated. Use month instead",Nt),wn.years=Y("years accessor is deprecated. Use year instead",Tt),wn.zone=Y("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(t,i){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,i),this):-this.utcOffset()})),wn.isDSTShifted=Y("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!a(this._isDSTShifted))return this._isDSTShifted;var t,i={};return g(i,this),(i=Yi(i))._a?(t=i._isUTC?v(i._a):_i(i._a),this._isDSTShifted=this.isValid()&&function(t,i,n){var e,s=Math.min(t.length,i.length),r=Math.abs(t.length-i.length),o=0;for(e=0;e<s;e++)$(t[e])!==$(i[e])&&o++;return o+r}(i._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}));var Mn=N.prototype;function Yn(t,i,n,e){var s=hi(),r=v().set(e,i);return s[n](r,t)}function Dn(t,i,n){if(l(t)&&(i=t,t=void 0),t=t||"",null!=i)return Yn(t,i,n,"month");var e,s=[];for(e=0;e<12;e++)s[e]=Yn(t,e,n,"month");return s}function _n(t,i,n,e){"boolean"==typeof t?(l(i)&&(n=i,i=void 0),i=i||""):(n=i=t,t=!1,l(i)&&(n=i,i=void 0),i=i||"");var s,r=hi(),o=t?r._week.dow:0,u=[];if(null!=n)return Yn(i,(n+o)%7,e,"day");for(s=0;s<7;s++)u[s]=Yn(i,(s+o)%7,e,"day");return u}Mn.calendar=function(t,i,n){var e=this._calendar[t]||this._calendar.sameElse;return z(e)?e.call(i,n):e},Mn.longDateFormat=function(t){var i=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return i||!n?i:(this._longDateFormat[t]=n.match(Z).map((function(t){return"MMMM"===t||"MM"===t||"DD"===t||"dddd"===t?t.slice(1):t})).join(""),this._longDateFormat[t])},Mn.invalidDate=function(){return this._invalidDate},Mn.ordinal=function(t){return this._ordinal.replace("%d",t)},Mn.preparse=kn,Mn.postformat=kn,Mn.relativeTime=function(t,i,n,e){var s=this._relativeTime[n];return z(s)?s(t,i,n,e):s.replace(/%d/i,t)},Mn.pastFuture=function(t,i){var n=this._relativeTime[t>0?"future":"past"];return z(n)?n(i):n.replace(/%s/i,i)},Mn.set=function(t){var i,n;for(n in t)u(t,n)&&(z(i=t[n])?this[n]=i:this["_"+n]=i);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Mn.eras=function(t,i){var e,r,o,u=this._eras||hi("en")._eras;for(e=0,r=u.length;e<r;++e){switch(n(u[e].since)){case"string":o=s(u[e].since).startOf("day"),u[e].since=o.valueOf()}switch(n(u[e].until)){case"undefined":u[e].until=1/0;break;case"string":o=s(u[e].until).startOf("day").valueOf(),u[e].until=o.valueOf()}}return u},Mn.erasParse=function(t,i,n){var e,s,r,o,u,h=this.eras();for(t=t.toUpperCase(),e=0,s=h.length;e<s;++e)if(r=h[e].name.toUpperCase(),o=h[e].abbr.toUpperCase(),u=h[e].narrow.toUpperCase(),n)switch(i){case"N":case"NN":case"NNN":if(o===t)return h[e];break;case"NNNN":if(r===t)return h[e];break;case"NNNNN":if(u===t)return h[e]}else if([r,o,u].indexOf(t)>=0)return h[e]},Mn.erasConvertYear=function(t,i){var n=t.since<=t.until?1:-1;return void 0===i?s(t.since).year():s(t.since).year()+(i-t.offset)*n},Mn.erasAbbrRegex=function(t){return u(this,"_erasAbbrRegex")||cn.call(this),t?this._erasAbbrRegex:this._erasRegex},Mn.erasNameRegex=function(t){return u(this,"_erasNameRegex")||cn.call(this),t?this._erasNameRegex:this._erasRegex},Mn.erasNarrowRegex=function(t){return u(this,"_erasNarrowRegex")||cn.call(this),t?this._erasNarrowRegex:this._erasRegex},Mn.months=function(t,i){return t?r(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Dt).test(i)?"format":"standalone"][t.month()]:r(this._months)?this._months:this._months.standalone},Mn.monthsShort=function(t,i){return t?r(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Dt.test(i)?"format":"standalone"][t.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Mn.monthsParse=function(t,i,n){var e,s,r;if(this._monthsParseExact)return zt.call(this,t,i,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),e=0;e<12;e++){if(s=v([2e3,e]),n&&!this._longMonthsParse[e]&&(this._longMonthsParse[e]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[e]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),n||this._monthsParse[e]||(r="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[e]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===i&&this._longMonthsParse[e].test(t))return e;if(n&&"MMM"===i&&this._shortMonthsParse[e].test(t))return e;if(!n&&this._monthsParse[e].test(t))return e}},Mn.monthsRegex=function(t){return this._monthsParseExact?(u(this,"_monthsRegex")||Pt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=xt),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},Mn.monthsShortRegex=function(t){return this._monthsParseExact?(u(this,"_monthsRegex")||Pt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=_t),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},Mn.week=function(t){return At(t,this._week.dow,this._week.doy).week},Mn.firstDayOfYear=function(){return this._week.doy},Mn.firstDayOfWeek=function(){return this._week.dow},Mn.weekdays=function(t,i){var n=r(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(i)?"format":"standalone"];return!0===t?Gt(n,this._week.dow):t?n[t.day()]:n},Mn.weekdaysMin=function(t){return!0===t?Gt(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin},Mn.weekdaysShort=function(t){return!0===t?Gt(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort},Mn.weekdaysParse=function(t,i,n){var e,s,r;if(this._weekdaysParseExact)return $t.call(this,t,i,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),e=0;e<7;e++){if(s=v([2e3,1]).day(e),n&&!this._fullWeekdaysParse[e]&&(this._fullWeekdaysParse[e]=new RegExp("^"+this.weekdays(s,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[e]=new RegExp("^"+this.weekdaysShort(s,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[e]=new RegExp("^"+this.weekdaysMin(s,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[e]||(r="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[e]=new RegExp(r.replace(".",""),"i")),n&&"dddd"===i&&this._fullWeekdaysParse[e].test(t))return e;if(n&&"ddd"===i&&this._shortWeekdaysParse[e].test(t))return e;if(n&&"dd"===i&&this._minWeekdaysParse[e].test(t))return e;if(!n&&this._weekdaysParse[e].test(t))return e}},Mn.weekdaysRegex=function(t){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||qt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=Rt),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},Mn.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||qt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ut),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Mn.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||qt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Bt),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Mn.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},Mn.meridiem=function(t,i,n){return t>11?n?"pm":"PM":n?"am":"AM"},oi("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var i=t%10;return t+(1===$(t%100/10)?"th":1===i?"st":2===i?"nd":3===i?"rd":"th")}}),s.lang=Y("moment.lang is deprecated. Use moment.locale instead.",oi),s.langData=Y("moment.langData is deprecated. Use moment.localeData instead.",hi);var xn=Math.abs;function zn(t,i,n,e){var s=Fi(i,n);return t._milliseconds+=e*s._milliseconds,t._days+=e*s._days,t._months+=e*s._months,t._bubble()}function Cn(t){return t<0?Math.floor(t):Math.ceil(t)}function Nn(t){return 4800*t/146097}function Pn(t){return 146097*t/4800}function Zn(t){return function(){return this.as(t)}}var Tn=Zn("ms"),jn=Zn("s"),En=Zn("m"),On=Zn("h"),Hn=Zn("d"),An=Zn("w"),Wn=Zn("M"),Gn=Zn("Q"),Ln=Zn("y");function Fn(t){return function(){return this.isValid()?this._data[t]:NaN}}var In=Fn("milliseconds"),Rn=Fn("seconds"),Un=Fn("minutes"),Bn=Fn("hours"),$n=Fn("days"),qn=Fn("months"),Jn=Fn("years"),Xn=Math.round,Qn={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Vn(t,i,n,e,s){return s.relativeTime(i||1,!!n,t,e)}var Kn=Math.abs;function te(t){return(t>0)-(t<0)||+t}function ie(){if(!this.isValid())return this.localeData().invalidDate();var t,i,n,e,s,r,o,u,h=Kn(this._milliseconds)/1e3,a=Kn(this._days),l=Kn(this._months),c=this.asSeconds();return c?(t=B(h/60),i=B(t/60),h%=60,t%=60,n=B(l/12),l%=12,e=h?h.toFixed(3).replace(/\.?0+$/,""):"",s=c<0?"-":"",r=te(this._months)!==te(c)?"-":"",o=te(this._days)!==te(c)?"-":"",u=te(this._milliseconds)!==te(c)?"-":"",s+"P"+(n?r+n+"Y":"")+(l?r+l+"M":"")+(a?o+a+"D":"")+(i||t||h?"T":"")+(i?u+i+"H":"")+(t?u+t+"M":"")+(h?u+e+"S":"")):"P0D"}var ne=Pi.prototype;return ne.isValid=function(){return this._isValid},ne.abs=function(){var t=this._data;return this._milliseconds=xn(this._milliseconds),this._days=xn(this._days),this._months=xn(this._months),t.milliseconds=xn(t.milliseconds),t.seconds=xn(t.seconds),t.minutes=xn(t.minutes),t.hours=xn(t.hours),t.months=xn(t.months),t.years=xn(t.years),this},ne.add=function(t,i){return zn(this,t,i,1)},ne.subtract=function(t,i){return zn(this,t,i,-1)},ne.as=function(t){if(!this.isValid())return NaN;var i,n,e=this._milliseconds;if("month"===(t=L(t))||"quarter"===t||"year"===t)switch(i=this._days+e/864e5,n=this._months+Nn(i),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(i=this._days+Math.round(Pn(this._months)),t){case"week":return i/7+e/6048e5;case"day":return i+e/864e5;case"hour":return 24*i+e/36e5;case"minute":return 1440*i+e/6e4;case"second":return 86400*i+e/1e3;case"millisecond":return Math.floor(864e5*i)+e;default:throw new Error("Unknown unit "+t)}},ne.asMilliseconds=Tn,ne.asSeconds=jn,ne.asMinutes=En,ne.asHours=On,ne.asDays=Hn,ne.asWeeks=An,ne.asMonths=Wn,ne.asQuarters=Gn,ne.asYears=Ln,ne.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*$(this._months/12):NaN},ne._bubble=function(){var t,i,n,e,s,r=this._milliseconds,o=this._days,u=this._months,h=this._data;return r>=0&&o>=0&&u>=0||r<=0&&o<=0&&u<=0||(r+=864e5*Cn(Pn(u)+o),o=0,u=0),h.milliseconds=r%1e3,t=B(r/1e3),h.seconds=t%60,i=B(t/60),h.minutes=i%60,n=B(i/60),h.hours=n%24,o+=B(n/24),u+=s=B(Nn(o)),o-=Cn(Pn(s)),e=B(u/12),u%=12,h.days=o,h.months=u,h.years=e,this},ne.clone=function(){return Fi(this)},ne.get=function(t){return t=L(t),this.isValid()?this[t+"s"]():NaN},ne.milliseconds=In,ne.seconds=Rn,ne.minutes=Un,ne.hours=Bn,ne.days=$n,ne.weeks=function(){return B(this.days()/7)},ne.months=qn,ne.years=Jn,ne.humanize=function(t,i){if(!this.isValid())return this.localeData().invalidDate();var e,s,r=!1,o=Qn;return"object"===n(t)&&(i=t,t=!1),"boolean"==typeof t&&(r=t),"object"===n(i)&&(o=Object.assign({},Qn,i),null!=i.s&&null==i.ss&&(o.ss=i.s-1)),s=function(t,i,n,e){var s=Fi(t).abs(),r=Xn(s.as("s")),o=Xn(s.as("m")),u=Xn(s.as("h")),h=Xn(s.as("d")),a=Xn(s.as("M")),l=Xn(s.as("w")),c=Xn(s.as("y")),f=r<=n.ss&&["s",r]||r<n.s&&["ss",r]||o<=1&&["m"]||o<n.m&&["mm",o]||u<=1&&["h"]||u<n.h&&["hh",u]||h<=1&&["d"]||h<n.d&&["dd",h];return null!=n.w&&(f=f||l<=1&&["w"]||l<n.w&&["ww",l]),(f=f||a<=1&&["M"]||a<n.M&&["MM",a]||c<=1&&["y"]||["yy",c])[2]=i,f[3]=+t>0,f[4]=e,Vn.apply(null,f)}(this,!r,o,e=this.localeData()),r&&(s=e.pastFuture(+this,s)),e.postformat(s)},ne.toISOString=ie,ne.toString=ie,ne.toJSON=ie,ne.locale=Ki,ne.localeData=nn,ne.toIsoString=Y("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ie),ne.lang=tn,O("X",0,0,"unix"),O("x",0,0,"valueOf"),vt("x",lt),vt("X",/[+-]?\d+(\.\d{1,3})?/),bt("X",(function(t,i,n){n._d=new Date(1e3*parseFloat(t))})),bt("x",(function(t,i,n){n._d=new Date($(t))})),s.version="2.29.1",t=_i,s.fn=wn,s.min=function(){var t=[].slice.call(arguments,0);return Ci("isBefore",t)},s.max=function(){var t=[].slice.call(arguments,0);return Ci("isAfter",t)},s.now=function(){return Date.now?Date.now():+new Date},s.utc=v,s.unix=function(t){return _i(1e3*t)},s.months=function(t,i){return Dn(t,i,"months")},s.isDate=c,s.locale=oi,s.invalid=y,s.duration=Fi,s.isMoment=k,s.weekdays=function(t,i,n){return _n(t,i,n,"weekdays")},s.parseZone=function(){return _i.apply(null,arguments).parseZone()},s.localeData=hi,s.isDuration=Zi,s.monthsShort=function(t,i){return Dn(t,i,"monthsShort")},s.weekdaysMin=function(t,i,n){return _n(t,i,n,"weekdaysMin")},s.defineLocale=ui,s.updateLocale=function(t,i){if(null!=i){var n,e,s=ti;null!=ii[t]&&null!=ii[t].parentLocale?ii[t].set(C(ii[t]._config,i)):(null!=(e=ri(t))&&(s=e._config),i=C(s,i),null==e&&(i.abbr=t),(n=new N(i)).parentLocale=ii[t],ii[t]=n),oi(t)}else null!=ii[t]&&(null!=ii[t].parentLocale?(ii[t]=ii[t].parentLocale,t===oi()&&oi(t)):null!=ii[t]&&delete ii[t]);return ii[t]},s.locales=function(){return D(ii)},s.weekdaysShort=function(t,i,n){return _n(t,i,n,"weekdaysShort")},s.normalizeUnits=L,s.relativeTimeRounding=function(t){return void 0===t?Xn:"function"==typeof t&&(Xn=t,!0)},s.relativeTimeThreshold=function(t,i){return void 0!==Qn[t]&&(void 0===i?Qn[t]:(Qn[t]=i,"s"===t&&(Qn.ss=i-1),!0))},s.calendarFormat=function(t,i){var n=t.diff(i,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},s.prototype=wn,s.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},s},"object"===(void 0===t?"undefined":n(t))&&void 0!==i?i.exports=s():"function"==typeof define&&define.amd?define(s):e.moment=s()}},function(){return n||(0,i[Object.keys(i)[0]])((n={exports:{}}).exports,n),n.exports});function c(t,i){for(var n=[],e=0,s=0;s<t.length;s++){var r=t[s];i(r,s,t)?n.push(r):(e<s&&(t[e]=r),e++)}return e<t.length&&(t.length=e),n}Array.isArray;var f=Object.prototype;function d(t){return 1==(null==(i=t)?void 0:i.nodeType)?(t=t).tagName.toLowerCase()+(t.id?"#".concat(t.id):""):t;var i}function v(t,i){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);i&&(e=e.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),n.push.apply(n,e)}return n}function m(t){for(var i=1;i<arguments.length;i++){var n=null!=arguments[i]?arguments[i]:{};i%2?v(Object(n),!0).forEach((function(i){p(t,i,n[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))}))}return t}function p(t,i,n){return i in t?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n,t}f.hasOwnProperty,f.toString;var y="i-spzhtml-carousel-has-controls",S="spz-carousel-slide",b="i-spzhtml-carousel-resting",g="i-spzhtml-slide-item",w="i-spzhtml-slide-item-copy",k="i-spzhtml-slide-row-wrapper",M="i-spzhtml-slide-row-item",Y="i-spzhtml-slides-container",D="i-spzhtml-slide-item-show",_="i-spzhtml-carousel-scroll-disabled",x="i-spzhtml-copy-carousel-style",z={pre:'<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="#fff" viewBox="0 0 18 18"><path d="M15 8.25H5.87l4.19-4.19L9 3 3 9l6 6 1.06-1.06-4.19-4.19H15v-1.5z"/></svg>',next:'<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="#fff" viewBox="0 0 18 18"><path d="M9 3L7.94 4.06l4.19 4.19H3v1.5h9.13l-4.19 4.19L9 15l6-6z"/></svg>',close:'<svg width="36" height="36" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="36" height="36" rx="18" fill="#6F6F6F" fill-opacity="0.7"/><path d="M13.1211 11.9896C13.0039 11.8724 12.814 11.8724 12.6968 11.9896L11.9897 12.6967C11.8726 12.8139 11.8726 13.0038 11.9897 13.121L16.8688 18L11.9897 22.8791C11.8726 22.9962 11.8726 23.1862 11.9897 23.3033L12.6968 24.0104C12.814 24.1276 13.0039 24.1276 13.1211 24.0104L18.0001 19.1314L22.8792 24.0104C22.9963 24.1276 23.1863 24.1276 23.3033 24.0104L24.0105 23.3033C24.1277 23.1861 24.1277 22.9962 24.0105 22.879L19.1315 18L24.0105 13.121C24.1277 13.0038 24.1277 12.8139 24.0105 12.6967L23.3035 11.9896C23.1863 11.8725 22.9963 11.8725 22.8792 11.9896L18.0001 16.8687L13.1211 11.9896Z" fill="white"/></svg>'};function C(t,i){var n=i.className,e=i.enabled,s=i.outerHTML,r=t.ownerDocument.createElement("div");return r.setAttribute("tabindex","0"),r.classList.add("spz-carousel-button",n),r.setAttribute("role","button"),N(r,e),r.innerHTML=s,t.appendChild(r),r}function N(t,i){t.classList.toggle("spz-disabled",!i),t.setAttribute("aria-disabled",String(!i)),t.setAttribute("tabindex",String(i?0:-1))}function P(t,i,n){var e=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=e?document:t.ownerDocument,r=[],o=[],u=Number(t.getAttribute("row-count"))||1,h=function(){u>1?A(i,u).forEach((function(t){var i=s.createElement("div");i.classList.add(g);var e=s.createElement("div");e.classList.add(k,S),t.forEach((function(t){t.classList.add(M),e.appendChild(t)})),i.appendChild(e),n.appendChild(i),r.push(i),o.push(t)})):i.forEach((function(t){t.classList.add(S);var i=s.createElement("div");i.classList.add(g),Z(t,i),i.appendChild(t),n.appendChild(i),r.push(i),o.push([t])}))};return h(),{slideWrappers:r,slides:o}}function Z(t,i){t.hasAttribute("popup-style")&&i.setAttribute("style",t.getAttribute("popup-style"))}function T(t,i,n,e){var s=i.length,r=Number(t.getAttribute("advance-count"))||1,o=r>1?Math.ceil(e/r):Math.ceil(e);if(!(s>1&&s>=o))return i;var u=i.filter((function(t){return t.children.length>0}));if(u.length<o)return i;var h=function(t){return Array.from(t.querySelectorAll("[role=copy]")).map((function(t){var i=document.createElement("div");return i.classList.add(g),i.classList.add(w),t.classList.add(S),i.appendChild(t),i}))}(t),a=[],l=[];h.length>0?(function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Assertion failed";if(t)return t;for(var n=2,e=i.split("%s"),s=e.shift(),r=[s];e.length;){var o=arguments[n++],u=e.shift();s+=d(o)+u,r.push(o,u.trim())}var h=new Error(s);throw h.messageArray=c(r,(function(t){return""!==t})),h}(h.length===2*o,"The preset number of copy elements needs to equal visibleCount * 2, current number is %s, needs to be %s",h.length,2*o),a=h.slice(0,o),l=h.slice(h.length-o,h.length)):(a=E(u.length-o,u.length,u,t),l=E(0,o,u,t));var f=a.concat(i,l);return l.forEach((function(t){t.parentNode!==n&&n.appendChild(t)})),a.reverse().forEach((function(t){t.parentNode!==n&&n.insertBefore(t,n.childNodes[0])})),f}function j(t){return(t.hasAttribute("loop")||t.hasAttribute("autoplay"))&&"fade"!==t.getAttribute("effect")&&"swipe"!==t.getAttribute("effect")}function E(t,i,n,e){for(var s=[],r=t;r<i;r++){var o=r%n.length;s.push(O(n[o],e))}return s}function O(t,i){var n=t.cloneNode(!0);return n.classList.add(w),n.querySelectorAll("[id]").forEach((function(t){i.childIds_.push(t.id),t.setAttribute("id","".concat(t.id,"-copy"))})),n}function H(t,i){var n=SPZCore.Dom.scopedQuerySelector(t,"> [".concat(i,"]"));return n?(SPZCore.Dom.toggle(n,!0),t.removeChild(n).outerHTML):z[i]}function A(t,i){for(var n=[],e=0,s=-1;e<t.length;e++)e%i==0&&(n[++s]=[]),n[s].push(t[e]);return n}var W=function(){function t(i){var n=i.element,e=i.go,s=i.nextButton,r=i.prevButton;!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.element_=n,this.go_=e,this.win_=n.ownerDocument.defaultView,this.prevButton_=r,this.nextButton_=s,this.showControls_=!1,this.setupBehaviors_()}var i,n;return i=t,(n=[{key:"setupBehaviors_",value:function(){var t=this;this.setupButtonInteraction(this.prevButton_,(function(){return t.handlePrev()})),this.setupButtonInteraction(this.nextButton_,(function(){return t.handleNext()})),this.element_.hasAttribute("controls")&&(this.showControls_=!0)}},{key:"setupButtonInteraction",value:function(t,i){t.addEventListener("click",(function(t){t.stopPropagation(),i()})),t.onselectstart=function(){return!1}}},{key:"setControlsState",value:function(t){var i=t.next,n=t.prev;N(this.prevButton_,n),N(this.nextButton_,i)}},{key:"hintControls",value:function(){var t=this;this.showControls_||SPZServices.vsyncFor(this.win_).mutate((function(){var i="i-spzhtml-carousel-button-start-hint";t.element_.classList.add(i),SPZServices.timerFor(t.win_).delay((function(){SPZServices.mutatorForDoc(t.element_).measureMutateElement(t.element_,null,(function(){t.element_.classList.remove(i),SPZCore.Dom.toggleAttribute(t.element_,"i-spzhtml-carousel-hide-buttons",!t.showControls_)}))}),4e3)}))}},{key:"handlePrev",value:function(){!this.prevButton_.classList.contains("spz-disabled")&&this.go_(-1,!0,!1)}},{key:"handleNext",value:function(){!this.nextButton_.classList.contains("spz-disabled")&&this.go_(1,!0,!1)}}])&&function(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}(i.prototype,n),Object.defineProperty(i,"prototype",{writable:!1}),t}();var G=function(){function t(i){var n=this;!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.slidesContainer_=i.slidesContainer_,this.slideWrappers_=i.slideWrappers_,this.animateTime=i.animateTime_,this.clearAutoplayTimer_=i.clearAutoplayTimer_.bind(i),this.element=i.element,this.documentElement_=self.document.documentElement,this.win=i.win,this.autoHeight="container"===this.element.getAttribute("layout"),this.setInitStyle_(),this.next_=function(){n.clearAutoplayTimer_(),i.moveSlide(1,!0)},this.pre_=function(){n.clearAutoplayTimer_(),i.moveSlide(-1,!0)}}var i,n;return i=t,(n=[{key:"onDragStart",value:function(t){this.clearAutoplayTimer_();var i=t.targetTouches&&t.targetTouches[0]||t.changedTouches&&t.changedTouches[0];this.start_={clientX:t.clientX?t.clientX:null==i?void 0:i.clientX,clientY:t.clientX?t.clientY:null==i?void 0:i.clientY},this.documentElement_.classList.add("i-spzhtml-carousel-scroll-disabled")}},{key:"onDragMove",value:function(t){var i;this.isZoom_=(null===(i=t.touches)||void 0===i?void 0:i.length)>1}},{key:"onDragEnd",value:function(t){var i=t.clientX?t:t.changedTouches[0],n=i.clientX,e=i.clientY;this.end_={clientX:n,clientY:e},this.calcAndCallback_(),this.documentElement_.classList.remove("i-spzhtml-carousel-scroll-disabled")}},{key:"calcAndCallback_",value:function(){if(this.start_&&this.end_&&!this.isZoom_){var t={x:this.end_.clientX-this.start_.clientX,y:this.end_.clientY-this.start_.clientY};Math.abs(t.y)>Math.abs(t.x)||(t.x>20?this.pre_():t.x<-20&&this.next_()),this.start_=this.end_=void 0}else SPZCore.Dom.toggleAttribute(this.element,"move",!1)}},{key:"setInitStyle_",value:function(){this.autoHeight&&SPZCore.Dom.setStyle(this.element,"transition","all ".concat(this.animateTime/1e3,"s linear"))}},{key:"update",value:function(t){this.slideWrappers_=t.slideWrappers,this.slidesContainer_=t.slidesContainer,this.max_=t.max}},{key:"fade",value:function(t){var i=this;t.update&&this.setInitStyle_();var n=t.index,e=this.slideWrappers_.filter((function(t,i){return i!==n&&t.classList.contains(D)}))[0],s=this.slideWrappers_[n]||this.slideWrappers_[0];s.classList.add(D),e&&(SPZCore.Dom.setStyle(e,"transition","all ".concat(this.animateTime/1e3,"s")),SPZCore.Dom.setStyle(e,"opacity",0),SPZCore.Dom.setStyles(this.element,{"height":"auto"}),e.classList.remove(D));var r=s.clientHeight,o=this.element.clientHeight;SPZCore.Dom.setStyles(this.element,{"height":o?"".concat(o,"px"):"auto"}),self.requestAnimationFrame((function(){SPZCore.Dom.setStyle(s,"transition","all ".concat(i.animateTime/1e3,"s")),SPZCore.Dom.setStyle(s,"opacity",1),setTimeout((function(){SPZCore.Dom.setStyles(i.element,{"height":r&&!t.update?"".concat(r,"px"):"auto"})}),0),i.dispatchEvent_()}))}},{key:"dispatchEvent_",value:function(){var t=SPZUtils.Event.create(this.win,"transitionend",{},{bubbles:!1});this.element.dispatchEvent(t)}}])&&function(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}(i.prototype,n),Object.defineProperty(i,"prototype",{writable:!1}),t}();var L="vertical",F=["width","height"],I=function(){function t(i){var n=this;!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t);var e=i.animateTime_,s=i.clearAutoplayTimer_,r=i.element,o=i.max_,u=i.ratio_,h=i.shouldLoop_,a=i.slideIndex_,l=i.slideWrappers_,c=i.slidesContainer_,f=i.visibleCount_,d=i.win;this.animateTime_=e,this.clearAutoplayTimer_=s.bind(i),this.element=r,this.max_=o,this.shouldLoop_=h,this.slideIndex_=a,this.slideWrappers_=l,this.visibleCount_=f,this.container_=c,this.documentElement_=d.document.documentElement,this.isVertical_=this.element.getAttribute("direct")===L,this.win=d,this.ratio_=u||.01,this.directionFactor_=i.directionFactor,this.carousel_=i,this.copySlideCount_=this.calculateCopySlideCount_(),this.start_=void 0,this.end_=void 0,this.isIos_=SPZServices.platformFor(this.win).isIos(),this.next_=function(){n.clearAutoplayTimer_(),i.moveSlide(1,!0)},this.pre_=function(){n.clearAutoplayTimer_(),i.moveSlide(-1,!0)},this.setContainerHeight_(),this.setContainerWidth_(),this.initContainerRect_()}var i,n;return i=t,(n=[{key:"calculateCopySlideCount_",value:function(){var t=(this.element.hasAttribute("loop")||this.element.hasAttribute("autoplay"))&&"fade"!==this.element.getAttribute("effect")&&"swipe"!==this.element.getAttribute("effect")&&this.visibleCount_>0&&this.slideWrappers_.length>1,i=Number(this.element.getAttribute("advance-count"))||1;return t?i>1?Math.ceil(this.visibleCount_/i):Math.ceil(this.visibleCount_):0}},{key:"scroller",value:function(t){var i=this,n=t.animateTime,e=t.dir,s=t.isDragMoving,r=t.isUpdate,o=t.slideIndex,u=t.translateX,h=t.translateY,a=t.update,l=t.index,c=this.direct||e||0;this.isAdjustPosition_&&this.adjustPosition_(this.preX_,this.preY_),r&&(this.setContainerHeight_(r,null,a),this.setContainerWidth_(),this.initContainerRect_(),void 0===l?(l=this.slideIndex_+this.copySlideCount_,c=0):this.currentIndex=null);var f=this.handleHeadToTail_(l,c);this.preX_=this.parseTranslateX_(u,f),this.preY_=this.parseTranslateY_(h,f),SPZServices.timerFor(this.win).delay((function(){s||i.transitionEndReset_(i.preX_,i.preY_,c),i.setStyleTranslate_(s?i.preX_:i.preX_*i.directionFactor_,i.preY_,n),i.setContainerHeight_(!1,f)}),0),void 0!==f&&(this.currentIndex=f),void 0!==o&&(this.slideIndex_=o),this.toggleClass_()}},{key:"transitionEndReset_",value:function(t,i,n){var e=this;this.shouldLoop_&&n&&(this.currentIndex<=0||this.currentIndex>=this.max_+this.copySlideCount_)?(this.isAdjustPosition_=!0,this.removeTransitionedListen_&&this.removeTransitionedListen_(),this.removeTransitionedListen_=SPZUtils.Event.listenOnce(this.container_,"transitionend",(function(){e.element.classList.add(b),SPZServices.timerFor(e.win).delay((function(){e.adjustPosition_(t,i),e.toggleClass_(),requestAnimationFrame((function(){requestAnimationFrame((function(){e.element.classList.remove(b)}))}))}),e.animateTime_)}))):this.isAdjustPosition_=!1}},{key:"adjustPosition_",value:function(t,i){if(this.isAdjustPosition_){var n=this.getResetIndex_(),e=this.isVertical_?t:this.parseTranslateX_(void 0,n)*this.directionFactor_,s=this.isVertical_?this.parseTranslateY_(void 0,n):i;this.setStyleTranslate_(e,s,0,!0),this.currentIndex=n,this.isAdjustPosition_=!1,this.initPosition=this.getTranslate_()}}},{key:"getResetIndex_",value:function(){return this.currentIndex<=0?this.max_+this.currentIndex:this.currentIndex>=this.max_+this.copySlideCount_?this.copySlideCount_:void 0}},{key:"update",value:function(t){t.count&&(this.max_=t.count),t.slideWrappers&&(this.slideWrappers_=t.slideWrappers,this.slidesContainer_=t.slidesContainer,this.max_=t.max),t.direct&&(this.isVertical_=t.direct===L),t.visibleCount&&(this.visibleCount_=t.visibleCount,this.copySlideCount_=this.calculateCopySlideCount_())}},{key:"onDragMove",value:function(t){var i;if((null===(i=t.targetTouches)||void 0===i?void 0:i.length)>1||!this.isTouched_)this.direct=null;else{var n="touchmove"===t.type&&t.targetTouches&&(t.targetTouches[0]||t.changedTouches[0]),e="touchmove"===t.type?n.pageX:t.pageX,s="touchmove"===t.type?n.pageY:t.pageY,r=e-this.start_.clientX,o=s-this.start_.clientY,u=this.isVertical_?o:r;if(this.isVertical_&&Math.abs(r)>Math.abs(o)||!this.isVertical_&&Math.abs(o)>Math.abs(r))this.clearMove_();else{SPZCore.Dom.toggleAttribute(this.element,"move",!0);var h=this.calcDistance_(r,o),a=h.x,l=h.y;this.scroller({translateX:a,translateY:l,animateTime:0,isDragMoving:!0,dir:this.direct*this.directionFactor_}),this.setDirect_(u)}}}},{key:"calcDistance_",value:function(t,i){var n,e,s=this.isVertical_?i:t,r=this.initPosition,o=this.isVertical_?this.containerHeight_:this.containerWidth_;(this.currentIndex&&this.currentIndex>this.max_+this.copySlideCount_&&this.shouldLoop_||!this.currentIndex&&s>0&&this.shouldLoop_)&&(r=-(this.slideIndex_+1)*o);var u=t+r,h=i+r,a=this.isVertical_?0:-this.max_*this.containerWidth_,l=this.isVertical_?-this.max_*this.containerHeight_:0,c=Math.max(a,Math.min(u,0)),f=Math.max(l,Math.min(h,0));return null!==(n=this.carousel_)&&void 0!==n&&null!==(e=n.isLastSlideFullyVisible_)&&void 0!==e&&e.call(n)&&this.carousel_.isLastSlideFullyVisible_()&&s<0&&(this.isVertical_?this.isVertical_&&(f=Math.max(f,this.initPosition)):c=Math.max(c,this.initPosition)),{x:c,y:f}}},{key:"setDirect_",value:function(t){var i=this.initPosition,n=this.isVertical_?this.containerHeight_:this.containerWidth_,e=t+i,s=this.currentIndex*n;Math.abs(t)>=n*this.ratio_&&(this.direct=t>0?-1:1),(Math.abs(e)>s+n*this.ratio_||Math.abs(e)<s-n*this.ratio_)&&(this.direct=t>0?-1:1),this.shouldLoop_||(!this.slideIndex_&&t>0?this.direct=-1:this.slideIndex_===this.max_&&t<0&&(this.direct=1),this.slideIndex_>this.max_&&(this.direct=null))}},{key:"onDragStart",value:function(t){var i=t.targetTouches&&t.targetTouches[0]||t.changedTouches&&t.changedTouches[0];this.clearAutoplayTimer_(),this.initPosition=this.getTranslate_(),this.start_={clientX:"touchstart"===t.type?null==i?void 0:i.pageX:t.pageX,clientY:"touchstart"===t.type?null==i?void 0:i.pageY:t.pageY},this.setTouch_(!0),this.documentElement_.classList.add("i-spzhtml-carousel-scroll-disabled")}},{key:"onDragEnd",value:function(t,i){if(this.isTouched_&&this.element){var n=t.clientX?t:t.changedTouches[0],e=n.clientX,s=n.clientY;if(this.end_={clientX:e,clientY:s},i)this.calcAndCallback_(i);else{if(this.hasMove_())return SPZCore.Dom.toggleAttribute(this.element,"move",!1),void this.clearMove_();this.calcAndCallback_(),this.clearMove_()}}}},{key:"calcAndCallback_",value:function(t){if(!this.start_||!this.end_||!this.direct){var i,n,e,s,r=(null===(i=this.start_)||void 0===i?void 0:i.clientX)===(null===(n=this.end_)||void 0===n?void 0:n.clientX)||(null===(e=this.start_)||void 0===e?void 0:e.clientY)===(null===(s=this.end_)||void 0===s?void 0:s.clientY);return this.scroller({index:this.slideIndex_,animateTime:r?0:this.animateTime_}),void(!t&&SPZCore.Dom.toggleAttribute(this.element,"move",!1))}this.direct=this.direct*this.directionFactor_,-1===this.direct?this.pre_():this.next_(),this.direct=null}},{key:"parseTranslateX_",value:function(t,i){return this.isVertical_?0:void 0!==t?t/this.containerWidth_*100:(this.widthList||this.setContainerWidth_(),(1===this.visibleCount_?-i*this.widthList[0]:-this.getSumDistance_(0,i,this.widthList))/this.containerWidth_*100)}},{key:"parseTranslateY_",value:function(t,i){if(!this.isVertical_)return 0;if(void 0!==t)return t/this.containerHeight_*100;var n=Math.min(Math.max(i-1,0),this.slideWrappers_.length-1);return(1===this.visibleCount_?-i*this.container_.clientHeight:-i*this.slideWrappers_[n].clientHeight)/this.containerHeight_*100}},{key:"getTranslate_",value:function(){var t=this.isVertical_?"y":"x",i=null,n=SPZCore.Dom.computedStyle(this.win,this.container_);return window.WebKitCSSMatrix?((i=n.transform||n.webkitTransform).split(",").length>6&&(i=i.split(", ").map((function(t){return t.replace(",",".")})).join(", ")),transformMatrix=new window.WebKitCSSMatrix("none"===i?"":i)):(transformMatrix=n.MozTransform||n.OTransform||n.MsTransform||n.msTransform||n.transform||n.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),matrix=transformMatrix.toString().split(",")),"x"===t&&(i=window.WebKitCSSMatrix?transformMatrix.m41:16===matrix.length?parseFloat(matrix[12]):parseFloat(matrix[4])),"y"===t&&(i=window.WebKitCSSMatrix?transformMatrix.m42:16===matrix.length?parseFloat(matrix[13]):parseFloat(matrix[5])),i||0}},{key:"setContainerHeight_",value:function(t,i,n){if(this.element.layout_!==SPZCore.Layout.FIXED_HEIGHT||this.element.hasAttribute("auto-height"))if(this.element.hasAttribute("keep-height"))this.handleKeepHeight_();else{if(this.heightList||(this.heightList=this.slideWrappers_.map((function(t){return t.clientHeight}))),n)return SPZCore.Dom.setStyles(this.element,{"height":"auto"}),void(this.heightList=this.slideWrappers_.map((function(t){return t.clientHeight})));if(this.isVertical_||t||!this.element.hasAttribute("auto-height")){var e=this.slideWrappers_.map((function(t){return t.clientHeight}));if(this.visibleCount_=parseFloat(this.element.getAttribute("visible-count"))||1,(!t||1!=this.visibleCount_&&this.isVertical_)&&(this.isVertical_||t)){for(var s=this.getSumDistance_(0,this.visibleCount_,e),r=1;r<this.slideWrappers_.length-this.visibleCount_;r++)s=Math.max(s,this.getSumDistance_(r,r+this.visibleCount_,e));SPZCore.Dom.setStyles(this.element,{"height":"".concat(s,"px")})}else SPZCore.Dom.setStyles(this.element,{"height":"auto"})}else SPZCore.Dom.setStyles(this.element,{"height":"".concat(this.heightList[i]||this.element.clientHeight,"px")})}}},{key:"handleKeepHeight_",value:function(){var t=this;SPZCore.Dom.setStyles(this.element,{"min-height":"".concat(this.element.clientHeight,"px")});var i=SPZUtils.Event.listen(this.element,"transitionend",(function(n){F.includes(n.propertyName)&&(SPZCore.Dom.setStyles(t.element,{"min-height":""}),i())}))}},{key:"setContainerWidth_",value:function(){var t;if(!this.isVertical_){var i=(null===(t=this.slideWrappers_[0])||void 0===t?void 0:t.getBoundingClientRect().width)||0;this.widthList=new Array(this.slideWrappers_.length).fill(i)}}},{key:"initContainerRect_",value:function(){var t=this.container_.getBoundingClientRect(),i=t.height,n=t.width;this.containerWidth_=n,this.containerHeight_=i}},{key:"handleHeadToTail_",value:function(t,i){return this.shouldLoop_&&void 0!==t?null==this.slideIndex_||null===this.currentIndex?t+this.copySlideCount_:this.currentIndex+i:t}},{key:"getSumDistance_",value:function(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.heightList,e=function(t){return t.reduce((function(t,i){return t+i}),0)};return e(n.slice(t,i))}},{key:"setStyleTranslate_",value:function(t,i,n){var e=this,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=this.isIos_?"translate3d(".concat(t,"%, ").concat(i,"%, 0)"):"translate(".concat(t,"%, ").concat(i,"%)");SPZCore.Dom.setStyles(this.container_,{"transform":r,"transition-duration":"".concat(n,"ms")}),s||(n?(X.forEach((function(t){e["un".concat(t)]&&e["un".concat(t)]()})),X.forEach((function(t){e["un".concat(t)]=SPZUtils.Event.listen(e.container_,t,(function(){e.dispatchEvent_()}),{passive:!0})}))):this.dispatchEvent_())}},{key:"dispatchEvent_",value:function(){var t=SPZUtils.Event.create(this.win,"transitionend",{},{bubbles:!1});this.element.dispatchEvent(t)}},{key:"clearMove_",value:function(){this.documentElement_.classList.remove("i-spzhtml-carousel-scroll-disabled"),this.setTouch_(!1),this.direct=null,this.start_=this.end_=void 0}},{key:"hasMove_",value:function(){var t,i,n,e,s,r;return!this.isTouched_||!this.element||(null===(t=this.start_)||void 0===t?void 0:t.clientX)&&(null===(i=this.start_)||void 0===i?void 0:i.clientY)&&(null===(n=this.start_)||void 0===n?void 0:n.clientX)===(null===(e=this.end_)||void 0===e?void 0:e.clientX)&&(null===(s=this.start_)||void 0===s?void 0:s.clientY)===(null===(r=this.end_)||void 0===r?void 0:r.clientY)}},{key:"setTouch_",value:function(t){this.isTouched_=t}},{key:"toggleClass_",value:function(){var t,i,n=this,e=this.currentIndex||0,s=this.slideWrappers_.length-1;if(!(e<0||e>s)){var r=this.slideWrappers_.filter((function(t,i){return i!==e&&t.classList.contains(D)}))[0],o=this.slideWrappers_[e];null==o||null===(t=o.classList)||void 0===t||t.add(D),null==r||null===(i=r.classList)||void 0===i||i.remove(D),this.slideWrappers_.forEach((function(t,i){var s=Math.min(n.visibleCount_,n.slideWrappers_.length-e),r=i>=e&&i<e+s;t.classList.toggle("i-spzhtml-slide-item-visible",r)}))}}}])&&function(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}(i.prototype,n),Object.defineProperty(i,"prototype",{writable:!1}),t}();var R=function(){function t(i){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.currentIndex_=0,this.documentElement_=self.document.documentElement,this.element=i.element,this.initialSlideIndex_=i.initialSlideIndex_||0,this.isVertical_="vertical"===i.direct_,this.ratio_=i.ratio_||.01,this.slidesContainer_=i.slidesContainer_,this.slideDimensions_=[0],this.slideWrappers_=i.slideWrappers_,this.updateSelect_=i.updateSelect_.bind(i),this.updateMaxIndex_=i.updateMaxIndex_.bind(i),this.win=i.win,this.vsync_=SPZServices.vsyncFor(this.win),this.hasAutoplay_=i.hasAutoplay_,this.autoplayDelay_=i.autoplayDelay_,this.dispatchEvent_=i.dispatchEvent_.bind(i),this.count_=i.count_,this.useBodyScroll_=!1,this.initListener_(),this.initContainerRect_(),this.initScrollTo_(),this.setShowClass_()}var i,n;return i=t,(n=[{key:"setAutoPlayDir_",value:function(){this.slidesContainer_.scrollLeft>=this.maxScrollDistance_&&(this.dir_=-1),0===this.currentIndex_&&(this.dir_=1)}},{key:"getMaxScrollDistance_",value:function(){var t=this.slidesContainer_.scrollWidth-this.containerSize_,i=this.slidesContainer_.scrollHeight-this.containerSize_;return this.isVertical_&&0==i?(this.useBodyScroll_=!0,this.selectOrientationValue(this.containerSize_,t)):this.selectOrientationValue(i,t)}},{key:"initScrollTo_",value:function(){this.initialSlideIndex_>=0&&(this.currentIndex_=this.initialSlideIndex_,this.smoothScrollTo_(0))}},{key:"setSlideDimensions_",value:function(){var t=this,i=this.selectOrientationValue(this.slidesContainer_.scrollHeight,this.slidesContainer_.scrollWidth),n=this.slideWrappers_.reduce((function(i,n){return i.concat(t.getSlideDimensions_(n))}),[]),e=(i-n.reduce((function(t,i){return t+i}),0))/(this.slideWrappers_.length-1);this.slideWrappers_.forEach((function(i,s){t.slideDimensions_[s]=0===s?0:1===s?n[0]+e:t.slideDimensions_[s-1]+n[s-1]+e}))}},{key:"getSlideDimensions_",value:function(t){var i=t.offsetWidth,n=t.offsetHeight;return this.selectOrientationValue(n,i)}},{key:"initContainerRect_",value:function(){var t=this,i=this.slidesContainer_.getBoundingClientRect(),n=i.height,e=i.width;this.containerSize_=this.selectOrientationValue(n,e),this.maxScrollDistance_=this.getMaxScrollDistance_(),this.setSlideDimensions_();var s=this.slideDimensions_.findIndex((function(i){return i>=t.maxScrollDistance_}));this.maxIndex_=-1===s?this.slideDimensions_.length-1:s,this.updateMaxIndex_(this.maxIndex_),this.maxScrollDistance_&&this.element.classList.add("i-spzhtml-carousel-scrollable")}},{key:"findCurrentSlideIndex_",value:function(){var t=this.getCurrentScrollDistance_();return this.slideDimensions_.findIndex((function(i){return t<=i+1}))}},{key:"selectOrientationValue",value:function(t,i){return this.isVertical_?Math.round(t):Math.round(i)}},{key:"initListener_",value:function(){var t=this;SPZUtils.Event.listen(this.slidesContainer_,"scroll",SPZCore.Types.throttle(this.win,(function(){console.log("scroll event"),0===t.maxIndex_&&t.initContainerRect_();var i=t.findCurrentSlideIndex_();i!==t.currentIndex_&&(t.updateSelect_(i),t.currentIndex_=i,t.setShowClass_())}),100))}},{key:"setShowClass_",value:function(){var t=this,i=this.slideWrappers_.filter((function(i,n){return n!==t.currentIndex_&&i.classList.contains(D)}))[0];i&&i.classList.remove(D),(this.slideWrappers_[this.currentIndex_]||this.slideWrappers_[0]).classList.add(D)}},{key:"smoothScrollTo_",value:function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300,n=this.slideDimensions_[this.currentIndex_];if(this.isSupportSmoothScroll_())return this.getScrollElement_().scrollTo({left:n,top:n,behavior:i?"smooth":"auto"}),void SPZServices.timerFor(this.win).delay((function(){t.dispatchEvent_()}),i);var e=this.getCurrentScrollDistance_(),s=n-e;this.vsync_.runAnimMutateSeries(this.slidesContainer_,(function(n){var r=Math.min(n/i,1),o=e+s*r;return t.setScrollValue_(o),n>=i&&t.dispatchEvent_(),n<i}),i)}},{key:"getScrollElement_",value:function(){return this.useBodyScroll_?window:this.slidesContainer_}},{key:"getCurrentScrollDistance_",value:function(){return this.selectOrientationValue(this.slidesContainer_.scrollTop,this.slidesContainer_.scrollLeft)}},{key:"setScrollValue_",value:function(t){var i=this.isVertical_?"scrollTop":"scrollLeft";this.slidesContainer_[i]=t}},{key:"isSupportSmoothScroll_",value:function(){return void 0!==SPZCore.Dom.getStyle(self.document.documentElement,"scroll-behavior")}},{key:"isTouchDevice_",value:function(t){return t.targetTouches&&t.targetTouches[0]||t.changedTouches&&t.changedTouches[0]}},{key:"onDragStart",value:function(t){this.isTouchDevice_(t)||(this.start_=this.getDragEventPositionAndTime_(t),this.originIndex_=this.currentIndex_,this.initScroll_=this.getCurrentScrollDistance_(),this.documentElement_.classList.add(_))}},{key:"getDragEventPositionAndTime_",value:function(t){return{clientX:t.clientX,clientY:t.clientY,timer:Date.now()}}},{key:"onDragMove",value:function(t){if(!this.isTouchDevice_(t)){var i=this.getMoveEventDistance_(t);this.setScrollValue_(i)}}},{key:"getMoveEventDistance_",value:function(t){return this.selectOrientationValue(this.initScroll_+(this.start_.clientY-t.clientY),this.initScroll_+(this.start_.clientX-t.clientX))}},{key:"onDragEnd",value:function(t){this.isTouchDevice_(t)||t.target===this.slidesContainer_||(this.end_=this.getDragEventPositionAndTime_(t),this.currentIndex_=this.originIndex_,this.calcAndCallback_(),this.documentElement_.classList.remove(_))}},{key:"calcAndCallback_",value:function(){this.start_&&this.end_?(this.setCurrentIndex_(),this.smoothScrollTo_(),this.start_=this.end_=void 0):SPZCore.Dom.toggleAttribute(this.element,"move",!1)}},{key:"setCurrentIndex_",value:function(){this.currentIndex_=this.getUpdateIndex_()}},{key:"getUpdateIndex_",value:function(){var t=this.getMoveDistanceAndTime_(),i=t.distance,n=t.timer;if(Math.abs(i)>this.containerSize_*this.ratio_||n<300){if(i<1&&i>-1)return;return i>1?this.currentIndex_-1:this.currentIndex_+1}return this.currentIndex_}},{key:"getMoveDistanceAndTime_",value:function(){return{distance:this.selectOrientationValue(this.end_.clientY-this.start_.clientY,this.end_.clientX-this.start_.clientX),timer:this.end_.timer-this.start_.timer}}},{key:"update",value:function(t){this.slideWrappers_=t.slideWrappers,this.slidesContainer_=t.slidesContainer}},{key:"swipe",value:function(t){(t.isUpdate||0===this.maxIndex_)&&this.initContainerRect_(),this.currentIndex_=this.getCurrentIndex_(t),this.currentIndex_!==this.maxIndex_&&0!==this.currentIndex_||this.updateSelect_(this.currentIndex_),this.smoothScrollTo_()}},{key:"getCurrentIndex_",value:function(t){var i=t.index;return t.opt_autoplay?(this.setAutoPlayDir_(),this.currentIndex_+this.dir_):i>=this.maxIndex_?this.maxIndex_:i<0?0:i}}])&&function(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}(i.prototype,n),Object.defineProperty(i,"prototype",{writable:!1}),t}();var U,B,$=["spz-video","spz-img","spz-model-viewer","ljs-video","ljs-img","ljs-model-viewer"],q=function(){function i(t,n){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),this.action_=t.action_,this.viewport_=t.getViewport(),this.zoomElement_=t.element,this.calcControlPosition_=t.attemptToFit_.bind(t),this.zoomCallback_=n,this.setup_()}var n,e;return n=i,(e=[{key:"setup_",value:function(){this.zoomElement_&&this.zoomElement_.hasAttribute("zoom")&&(this.closeSvg=H(this.zoomElement_,"close"),SPZUtils.Event.listen(this.zoomElement_,"click",this.open_.bind(this)))}},{key:"open_",value:function(t){this.zoomElement_.hasAttribute("zoom-in")||this.zoomElement_.hasAttribute("move")||(this.setImgAutoFit_(t.target),this.action_.trigger(this.zoomElement_,"zoomIn"),SPZCore.Dom.toggleAttribute(this.zoomElement_,"zoom-in",!0),this.renderCloseBtn_(),this.zoom_(),this.viewport_.enterOverlayMode(),this.calcControlPosition_(),this.zoomCallback_({animateTime:0}))}},{key:"close_",value:function(){SPZCore.Dom.toggleAttribute(this.zoomElement_,"zoom-in",!1),this.unListenClose_&&this.unListenClose_(),this.zoomElement_.removeChild(this.closeEle_),this.handleChildZoomCallback(!1),this.viewport_.leaveOverlayMode(),this.calcControlPosition_(),this.zoomCallback_({animateTime:0})}},{key:"zoom_",value:function(){this.handleChildZoomCallback(!0)}},{key:"renderCloseBtn_",value:function(){var t=this;this.closeEle_=document.createElement("div"),this.closeEle_.classList.add("close"),this.closeEle_.innerHTML=this.closeSvg,this.zoomElement_.appendChild(this.closeEle_),this.unListenClose_=SPZUtils.Event.listen(this.closeEle_,"click",(function(i){i.preventDefault(),i.stopPropagation(),t.close_(),t.action_.trigger(t.zoomElement_,"zoomOut")}))}},{key:"handleChildZoomCallback",value:function(){var i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];SPZCore.Dom.scopedQuerySelectorAll(this.zoomElement_,$.join(",")).forEach((function(n){t.whenApiDefined(n).then((function(t){t.onEnterFullscreen&&t.onEnterFullscreen(i)}))}))}},{key:"setImgAutoFit_",value:function(t){var i=t.parentElement;"SPZ-IMG"!==i.tagName&&"LJS-IMG"!==i.tagName||i.getApi((function(){return api.setSrc&&api.setSrc()}))}}])&&function(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),i}(),J=(U=l(),function(t,i,n){if(i&&"object"==typeof i||"function"==typeof i)for(var e,s=u(i),h=0,l=s.length;h<l;h++)e=s[h],a.call(t,e)||"default"===e||r(t,e,{get:function(t){return i[t]}.bind(null,e),enumerable:!(n=o(i,e))||n.enumerable});return t}((B=r(null!=U?s(h(U)):{},"default",U&&U.__esModule&&"default"in U?{get:function(){return U.default},enumerable:!0}:{value:U,enumerable:!0}),r(B,"__esModule",{value:!0})),U));var X=["transitionend","webkitTransitionEnd","oTransitionEnd"],Q="scroller",V="swipe",K=function(){function t(i){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.carousel_=i,this.element=i.element,this.container_=i.slidesContainer_,this.effectType_=i.effectType_,this.autoplay_=i.autoplay_.bind(i),this.dispatchEvent_=i.dispatchEvent_.bind(i),this.shouldAutoplay_=i.shouldAutoplay_,this.win=i.win,this.initEffect_(),this.initEvent_(),(i.shouldLoop_&&i.noOfSlides_>1||!i.hasLoop_)&&this.setup_()}var i,n;return i=t,(n=[{key:"createDebugInfo_",value:function(){if(!this.debugInfoEl_){try{var t=SPZCore.Dom.computedStyle(this.win,this.element).position;t&&"static"!==t||SPZCore.Dom.setStyle(this.element,"position","relative")}catch(t){}var i=this.win.document.createElement("div");i.setAttribute("data-spz-debug","carousel-info"),SPZCore.Dom.setStyles(i,{position:"absolute",left:"8px",top:"8px",zIndex:9999,background:"rgba(0,0,0,0.6)",color:"#fff",fontSize:"10px",padding:"6px 8px",borderRadius:"6px",pointerEvents:"none",userSelect:"none"}),i.textContent="x:  | y:  | preventDefault: ",this.element.appendChild(i),this.debugInfoEl_=i,this.debugStartType_=null,this.debugMoveType_=null}}},{key:"updateDebugInfo_",value:function(t,i,n){if(this.debugInfoEl_){var e=Math.abs(i),s=this.debugStartType_||"",r=this.debugMoveType_||"";this.debugInfoEl_.textContent="x: ".concat(Math.round(t)," | y: ").concat(Math.round(e)," | preventDefault: ").concat(n?"":""," | start: ").concat(s," | move: ").concat(r)}}},{key:"getEventKind_",value:function(t){return t?t.type&&t.type.startsWith("pointer")&&"pointerType"in t?"".concat(t.type,"(").concat(t.pointerType||"",")"):t.type||"":""}},{key:"initEffect_",value:function(){this.effectType_===Q?(this.scroller_=new I(this.carousel_),this.effect_=this.scroller_):this.effectType_===V?(this.swipe_=new R(this.carousel_),this.effect_=this.swipe_):(this.fade_=new G(this.carousel_),this.effect_=this.fade_),this.zoom_=new q(this.carousel_,this.effect.bind(this,{isUpdate:!0}))}},{key:"initEvent_",value:function(){var t=this;this.initEventName_(),this.onDragStart_=function(i){console.log("onDragStart_",(0,J.default)().format("HH:mm:ss SSS")),t.debugStartType_=t.getEventKind_(i),t.debugMoveType_=null,t.start_=t.getPointerEventPosition_(i),t.unListenMove&&t.unListenMove(),t.unListenMove=SPZUtils.Event.listen(t.container_,t.moveEventName_,t.onDragMove_.bind(t.effect_),{passive:!0}),t.effect_.onDragStart(i)},this.onDragMove_=function(i){console.log("onDragMove_",(0,J.default)().format("HH:mm:ss SSS"));var n=t.getPointerEventPosition_(i),e=n.pageX,s=n.pageY;Math.abs(e-t.start_.pageX)<1&&Math.abs(s-t.start_.pageY)<1||(t.element.setAttribute("dragging",""),t.effect_.onDragMove(i))},this.onDragEnd_=function(i,n){console.log("onDragEnd_",(0,J.default)().format("HH:mm:ss SSS")),t.effect_.onDragEnd(i,n),t.element.removeAttribute("dragging"),t.shouldAutoplay_&&t.resumeAutoplay_()},SPZUtils.Event.listen(this.container_,"wheel",SPZCore.Types.throttle(this.win,this.resumeAutoplay_.bind(this),300))}},{key:"getPointerEventPosition_",value:function(t){var i=t.targetTouches&&t.targetTouches[0]||t.changedTouches&&t.changedTouches[0];return{pageX:t.type.includes("touch")?null==i?void 0:i.pageX:t.pageX,pageY:t.clientY?t.pageY:null==i?void 0:i.pageY}}},{key:"resumeAutoplay_",value:function(){console.log("resumeAutoplay_",(0,J.default)().format("HH:mm:ss SSS")),this.autoplay_(),this.dispatchEvent_()}},{key:"initEventName_",value:function(){return this.supportsPointer_()?(this.startEventName_="pointerdown",this.moveEventName_="pointermove",void(this.endEventName_="pointerup")):this.isSupportTouch_()?(this.startEventName_="touchstart",this.moveEventName_="touchmove",void(this.endEventName_="touchend")):(this.startEventName_="mousedown",this.moveEventName_="mousemove",void(this.endEventName_="mouseup"))}},{key:"supportsPointer_",value:function(){return!!this.win.PointerEvent}},{key:"isSupportTouch_",value:function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch)}},{key:"setup_",value:function(){var t=this;this.element.hasAttribute("disabled-scroller")||(this.createDebugInfo_(),SPZUtils.Event.listen(this.container_,this.startEventName_,this.onDragStart_.bind(this.effect_),{passive:!0}),SPZUtils.Event.listen(this.container_,this.endEventName_,this.onDragEnd_.bind(this.effect_),{passive:!0}),SPZUtils.Event.listen(self.document,this.endEventName_,(function(i){t.unListenMove&&(t.unListenMove(),t.unListenMove=null,t.onDragEnd_.bind(t.effect_)(i,!0))}),{passive:!0}),this.isSupportTouch_()&&SPZUtils.Event.listen(this.container_,this.moveEventName_,(function(i){console.log(t.moveEventName_,(0,J.default)().format("HH:mm:ss SSS")),t.debugMoveType_=t.getEventKind_(i);var n=t.getPointerEventPosition_(i),e=n.pageX,s=n.pageY,r=e-t.start_.pageX,o=s-t.start_.pageY,u=r>=0&&Math.abs(o)<10;t.updateDebugInfo_(r,o,u),u&&i.cancelable&&i.preventDefault()}),{passive:!1}))}},{key:"effect",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.assign(t,i),this.effectType_===Q?this.scroller_.scroller(t):this.effectType_===V?this.swipe_.swipe(t):this.fade_.fade(t)}},{key:"update",value:function(t){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.effect_.update(t),t.isUpdate=i,i&&this.effect(t)}}])&&function(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}(i.prototype,n),Object.defineProperty(i,"prototype",{writable:!1}),t}();function tt(t){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function it(t){return function(t){if(Array.isArray(t))return nt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,i){if(t){if("string"==typeof t)return nt(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nt(t,i):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nt(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,e=new Array(i);n<i;n++)e[n]=t[n];return e}function et(t,i){return(et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t})(t,i)}function st(t,i){if(i&&("object"===tt(i)||"function"==typeof i))return i;if(void 0!==i)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function rt(t){return(rt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ot="spz-carousel",ut=void 0,ht="scroller",at=["SPZ-IMG","IMG","LJS-IMG"],lt=function(i){!function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&et(t,i)}(h,i);var n,s,r,o,u=(r=h,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=rt(r);if(o){var n=rt(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return st(this,t)});function h(t){var i;return function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,h),(i=u.call(this,t)).slides_=[],i.noOfSlides_=0,i.originalNoOfSlides_=0,i.slidesContainer_=null,i.slideWrappers_=[],i.autoplayTimeoutId_=null,i.hasAutoplay_=!1,i.autoplayDelay_=5e3,i.shouldLoop_=!1,i.shouldAutoplay_=!1,i.slideIndex_=null,i.initialSlideIndex_=0,i.action_=SPZServices.actionServiceForDoc(i.element),i.controls_=null,i.effectType_=ht,i.animateTime_=300,i.element.unmounted_=!1,i.element.childIds_=[],i.lastSlideFullyVisible_=!1,i.lastObservedElement_=null,i.autoAttributes_={"visible-count":!1,"advance-count":!1},i}return n=h,(s=[{key:"isLayoutSupported",value:function(t){return SPZCore.isLayoutSizeDefined(t)||t==SPZCore.Layout.CONTAINER}},{key:"buildCallback",value:function(){this.templates_=SPZServices.templatesForDoc()}},{key:"mountCallback",value:function(){return this.calculatePending_&&this.resize_(),e||(e=Promise.resolve(void 0))}},{key:"unmountCallback",value:function(){var t,i,n;this.clearAutoplayTimer_(),this.cancelCopyTask_(),null===(t=this.unObserver_)||void 0===t||t.call(this),null===(i=this.mediaQueryProps_)||void 0===i||i.dispose(),null===(n=this.lastSlideObserver_)||void 0===n||n.call(this)}},{key:"layoutCallback",value:function(){var t=this;this.init_();var i=this.element.getAttribute("advance-count"),n=this.element.getAttribute("visible-count");"auto"===i||"auto"===n?SPZServices.timerFor(this.win).delay((function(){t.recalculateCounts_(),t.finishLayoutCallback_()}),0):(this.applyCountsToDOM_(),this.finishLayoutCallback_())}},{key:"finishLayoutCallback_",value:function(){this.effect_=new K(this),this.effectType_===ht&&this.shouldLoop_&&this.effect_.effect({index:0,animateTime:0}),this.initSlide_()}},{key:"init_",value:function(){if(this.initDom_(),this.initMediaProps_(),this.element.hasAttribute("animate-time")){var t=Number(this.element.getAttribute("animate-time"));this.animateTime_=isNaN(t)?300:t}this.hasAutoplay_=this.element.hasAttribute("autoplay"),this.hasAutoplay_&&!this.element.hasAttribute("loop")&&this.element.setAttribute("loop",""),this.hasLoop_=this.element.hasAttribute("loop"),this.shouldAutoplay_=this.hasAutoplay_&&this.isLoopingEligible(),this.shouldAutoplay_&&!this.hasLoop_&&(this.element.setAttribute("loop",""),this.hasLoop_=!0);var i="rtl"===document.documentElement.getAttribute("dir");if(this.directionFactor=i?-1:1,this.element.hasAttribute("initial-slide")){var n=this.mediaQueryProps_.resolveMatchQuery(this.assert(this.element.getAttribute("initial-slide"),"Given slide-index should not be empty.",this.element));this.initialSlideIndex_=isNaN(n)?this.findSlideIndex_(n,!0):parseInt(n,10)}this.element.hasAttribute("effect")&&(this.effectType_=this.element.getAttribute("effect")),this.element.hasAttribute("scroll-ratio")&&(this.ratio_=parseFloat(this.element.getAttribute("scroll-ratio"))),this.element.hasAttribute("direct")&&(this.direct_=this.element.getAttribute("direct")),this.max_=this.slides_.length,this.count_=this.slides_.length,this.shouldLoop_=this.hasLoop_&&this.isLoopingEligible(),this.setupBehavior_()}},{key:"initMediaProps_",value:function(){var t=this,i=this.element.getAttribute("advance-count"),n=this.element.getAttribute("visible-count"),e=this.element.getAttribute("row-count");this.getViewport().onResize((function(){t.resize_()})),this.mediaQueryProps_=new SPZCore.Dom.MediaQueryProps(this.win,(function(){t.recalculateCounts_(),t.triggerActionByName_("mediaChange",t.slideIndex_)})),this.initializeCounts_(i,n),e&&(this.rowCount_=Number(this.mediaQueryProps_.resolveMatchQuery(e)),this.element.setAttribute("row-count",this.rowCount_))}},{key:"initializeCounts_",value:function(t,i){if(this.autoAttributes_["advance-count"]="auto"===t,this.autoAttributes_["visible-count"]="auto"===i,t&&"1"!==t)if("auto"===t)this.advanceCount_="auto";else{var n=this.mediaQueryProps_.resolveMatchQuery(t);this.advanceCount_=Number(n)}else this.advanceCount_=1,this.element.setAttribute("advance-count","1");if(i)if("auto"===i)this.visibleCount_="auto";else{var e=this.mediaQueryProps_.resolveMatchQuery(i);this.visibleCount_=parseFloat(e)}else this.visibleCount_=1,this.element.setAttribute("visible-count","1")}},{key:"recalculateCounts_",value:function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=!1;["visible-count","advance-count"].forEach((function(e){if(t.autoAttributes_[e]){var s=t.calculateCount_(i);"visible-count"===e?s!==t.visibleCount_&&(t.visibleCount_=s,t.element.setAttribute("visible-count",s),n=!0):s!==t.advanceCount_&&(t.advanceCount_=s,t.element.setAttribute("advance-count",s),n=!0)}else{var r=t.element.getAttribute(e)||1,o=t.mediaQueryProps_.resolveMatchQuery(r),u="visible-count"===e?parseFloat(o):Number(o);"visible-count"===e?u!==t.visibleCount_&&(t.visibleCount_=u,t.element.setAttribute("visible-count",u),n=!0):u!==t.advanceCount_&&(t.advanceCount_=u,t.element.setAttribute("advance-count",u),n=!0)}})),n&&this.applyCountsToDOM_(),this.updateEffectAfterCountsChange_()}},{key:"updateEffectAfterCountsChange_",value:function(){var t;null===(t=this.effect_)||void 0===t||t.update({slideWrappers:this.slideWrappers_,slidesContainer:this.slidesContainer_,max:this.slides_.length,index:this.slideIndex_,visibleCount:this.visibleCount_})}},{key:"calculateCount_",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.getContainerAndContentSize_(),n=i.containerSize,e=i.contentSize;if(n<=0||e<=0)return t&&(this.calculatePending_=!0),1;var s=Math.floor(n/e),r=Math.max(1,Math.min(s,this.originalNoOfSlides_));return this.calculatePending_=!1,r}},{key:"getContainerAndContentSize_",value:function(){var t,i="vertical"===this.element.getAttribute("direct"),n=i?this.element.clientHeight:this.element.clientWidth;if(n<=0||null===(t=this.slides_)||void 0===t||!t.length)return{containerSize:0,contentSize:0};var e=0,s=this.advanceCount_||1,r=this.element.querySelector(".".concat(S));if(r)e=i?r.clientHeight:r.clientWidth;else if(1===s){var o,u=null===(o=this.slideWrappers_)||void 0===o?void 0:o[0];e=u?i?u.clientHeight:u.clientWidth:0}else{var h=this.slides_[0],a=null==h?void 0:h[0];e=a?i?a.clientHeight:a.clientWidth:0}return{containerSize:n,contentSize:e}}},{key:"initDom_",value:function(){var t,i,n,e,s=this;this.basicDomData_=(t=this.element,i=function(t){return SPZCore.Dom.realChildElements(t).filter((function(t){return!(t.hasAttribute("pre")||t.hasAttribute("next")||t.hasAttribute("close")||"copy"===t.getAttribute("role"))}))}(t),n=i.length,e=function(t,i){var n=t.hasAttribute("i-spzhtml-ssr")?function(t){var i=SPZCore.Dom.scopedQuerySelector(t,".".concat(Y)),n=SPZCore.Types.toArray(SPZCore.Dom.scopedQuerySelectorAll(t,".".concat(g))).filter((function(t){return!t.classList.contains(w)})),e=[];return n.forEach((function(t){var i=SPZCore.Types.toArray(SPZCore.Dom.scopedQuerySelectorAll(t,".".concat(S,", .").concat(M)));e.push(i)})),{slidesContainer:i,slideWrappers:n,slides:e}}(t):function(t,i){t.classList.add("i-spzhtml-slidescroll");var n=t.ownerDocument.createElement("div");n.setAttribute("tabindex","-1"),n.classList.add(Y),n.setAttribute("aria-live","polite"),t.appendChild(n);var e=P(t,i,n,!1),s=e.slideWrappers;return{slidesContainer:n,slides:e.slides,slideWrappers:s}}(t,i),e=n.slideWrappers,s=n.slides,r=n.slidesContainer;if(!j(t))return{slidesContainer:r,slides:s,slideWrappers:e};var o=Number(t.getAttribute("visible-count"))||1;return{slidesContainer:r,slides:s,slideWrappers:T(t,e,r,o)}}(t,i),m(m({},function(t,i){if(!t.classList.contains(y))return t.hasAttribute("controls")&&t.classList.add(y),{prevButton:C(t,{outerHTML:H(t,"pre"),className:"spz-carousel-button-prev",enabled:t.hasAttribute("loop")}),nextButton:C(t,{outerHTML:H(t,"next"),className:"spz-carousel-button-next",enabled:i>(Number(t.getAttribute("advance-count"))||1)})}}(t,n)),e)),this.slides_=this.basicDomData_.slides,this.originalNoOfSlides_=this.slides_.length,this.slidesContainer_=this.basicDomData_.slidesContainer,this.slideWrappers_=this.basicDomData_.slideWrappers,this.prevButton_=this.basicDomData_.prevButton,this.nextButton_=this.basicDomData_.nextButton,this.controls_=new W({element:this.element,go:function(t,i,n){s.go(t,i,n,!0)},nextButton:this.nextButton_,prevButton:this.prevButton_}),this.noOfSlides_=this.slides_.length,this.element.setAttribute("dom-mounted","")}},{key:"resetToBasicDOM_",value:function(){if(this.basicDomData_){for(;this.slidesContainer_.firstChild;)this.slidesContainer_.removeChild(this.slidesContainer_.firstChild);var t=this.basicDomData_.slides.flat(),i=P(this.element,t,this.slidesContainer_,!0),n=i.slideWrappers,e=i.slides;this.slides_=e,this.slideWrappers_=n,this.noOfSlides_=this.slides_.length,this.originalNoOfSlides_=this.noOfSlides_}}},{key:"applyCountsToDOM_",value:function(){if(this.basicDomData_){var t,i=this.visibleCount_||1,n=this.advanceCount_||1;!this.element.hasAttribute("i-spzhtml-ssr")||this.element.hasAttribute("ssr-advance-count")&&Number(this.element.getAttribute("ssr-advance-count"))!==n?(this.resetToBasicDOM_(),t=function(t,i,n,e){var s=t.slideWrappers,r=t.slides,o=t.slidesContainer,u=i.hasAttribute("i-spzhtml-ssr");if(n>1){var h=function(t,i,n,e){return e<=1?{slideWrappers:t,slides:i}:(t.filter((function(t){return t.parentNode===n})).forEach((function(t){n.removeChild(t)})),function(){if(i.some((function(t){return t.some((function(t){return t.classList.contains(M)}))}))){var s=A(t,e),r=[],o=[];return s.forEach((function(t){for(var i=t[0],e=1;e<t.length;e++)for(;t[e].firstChild;)i.appendChild(t[e].firstChild);n.appendChild(i),r.push(i);var s=SPZCore.Types.toArray(SPZCore.Dom.scopedQuerySelectorAll(i,".".concat(k)));o.push(s)})),{slideWrappers:r,slides:o}}var u=A(i.flat(),e),h=[],a=[];return u.forEach((function(t){for(var i=t[0].parentElement,e=1;e<t.length;e++)i.appendChild(t[e]);n.appendChild(i),h.push(i),a.push(t)})),{slideWrappers:h,slides:a}}())}(s,r,o,n);s=h.slideWrappers,r=h.slides}return!u&&j(i)&&e>0&&(s=T(i,s,o,e)),{slideWrappers:s,slides:r,slidesContainer:o}}({slides:this.slides_,slideWrappers:this.slideWrappers_,slidesContainer:this.slidesContainer_},this.element,n,i)):t={slides:this.slides_,slideWrappers:this.slideWrappers_,slidesContainer:this.slidesContainer_},this.slides_=t.slides,this.slideWrappers_=t.slideWrappers,this.slidesContainer_=t.slidesContainer,this.noOfSlides_=this.slides_.length,this.max_=this.noOfSlides_,this.count_=this.noOfSlides_,null!==this.slideIndex_&&(this.slideIndex_>=this.noOfSlides_?this.slideIndex_=this.noOfSlides_-1:this.slideIndex_<0&&(this.slideIndex_=0)),this.effect_&&this.effect_.update({slideWrappers:this.slideWrappers_,slidesContainer:this.slidesContainer_,max:this.slides_.length,index:this.slideIndex_,visibleCount:this.visibleCount_}),this.updateLastSlideVisibility_()}}},{key:"initSlide_",value:function(){null===this.slideIndex_&&this.showSlide_(this.initialSlideIndex_,!1),this.triggerActionByName_("mounted",this.slideIndex_)}},{key:"setupBehavior_",value:function(){var t=this;this.registerAction("goToSlide",this.handleSlide_.bind(this)),this.registerAction("updateDirect",(function(i){var n;return t.updateDirect_(null===(n=i.args)||void 0===n?void 0:n.direct)})),this.registerAction("updateCount",(function(i){var n,e;return t.updateCount_(null===(n=i.args)||void 0===n?void 0:n.count,null===(e=i.args)||void 0===e?void 0:e.isZoom)})),this.registerAction("goPrev",(function(){return t.go(-1,!0,!1,!0)})),this.registerAction("goNext",(function(){return t.go(1,!0,!1,!0)})),this.registerAction("calcPosition",(function(){return t.attemptToFit_()})),this.loadPromise(self).then((function(){t.shouldAutoplay_&&t.setupAutoplay_(),"swipe"===t.effectType_?t.setAsContainer(t.slidesContainer_,"50% 200%"):t.setAsContainer(t.element,"50% 100%"),t.loadedCallback_()}))}},{key:"handleSlide_",value:function(t){var i=this,n=t.args,e=n.path,s=n.animate,r=n.index||0,o=n.isScrollIntoView||!1;(r!=this.slideIndex_||e)&&(e?this.findSlideIndex_(e).then((function(t){if(o){var e=i.slideWrappers_[t];e&&i.getViewport().animateScrollIntoView(e,{pos:"center"})}else i.goToSlide(t||0,s,i.getDirect_(t,n))})):this.goToSlide(r,s,this.getDirect_(r,n)))}},{key:"getDirect_",value:function(t,i){var n=i.animate,e=i.direct;return!n||e?e:t<this.slideIndex_?-1:1}},{key:"findSlideIndex_",value:function(i){var n=this,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=i.lastIndexOf(".");s>-1&&(i=i.substring(0,s));var r=function(){return n.slides_.findIndex((function(t){var e;return null===(e=n.getSrc_(t))||void 0===e?void 0:e.some((function(t){return-1!==(null==t?void 0:t.lastIndexOf(i))}))}))};return e?r():t.whenDefined(this.element).then((function(){return n.element.whenBuilt().then((function(){return r()}))}))}},{key:"getSrc_",value:function(t){var i=function(i){return t.map((function(t){var n=i?SPZCore.Dom.scopedQuerySelector(t,i):t;return(null==n?void 0:n.getAttribute("poster"))||(null==n?void 0:n.getAttribute("src"))})).filter((function(t){return t}))},n=i();if(n.length)return n;var e=i("spz-img, ljs-img");return e.length||(e=i("spz-video, ljs-video")),e.length||(e=i("spz-model-view, ljs-model-view")),e}},{key:"isLoopingEligible",value:function(){return this.noOfSlides_>1}},{key:"go",value:function(t,i,n){var e=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=this.element.hasAttribute("pause");s&&!e||this.moveSlide(t,i,n),n?(this.autoplay_(),s&&this.dispatchEvent_()):this.clearAutoplayTimer_()}},{key:"hasPrev_",value:function(){return this.shouldLoop_||this.slideIndex_>0}},{key:"hasNext_",value:function(){return!!this.shouldLoop_||!this.isLastSlideFullyVisible_()}},{key:"isLastSlideFullyVisible_",value:function(){return this.lastSlideFullyVisible_}},{key:"calculatePaddingRatio_",value:function(t){if(!t)return 0;var i="vertical"===this.element.getAttribute("direct"),n=SPZCore.Dom.computedStyle(this.win,t);if(i){var e=parseFloat(n.paddingTop)||0,s=parseFloat(n.paddingBottom)||0,r=t.clientHeight;return r<=0?0:(e+s)/r}var o=parseFloat(n.paddingLeft)||0,u=parseFloat(n.paddingRight)||0,h=t.clientWidth;return h<=0?0:(o+u)/h}},{key:"updateLastSlideVisibility_",value:function(){var t=this;if(this.slideWrappers_&&0!==this.slideWrappers_.length){var i=this.getLastNonCopySlideWrapper_();if(i){if(!this.lastSlideObserver_||this.lastObservedElement_!==i){this.lastSlideObserver_&&this.lastSlideObserver_(),this.lastObservedElement_=i;var n=this.calculatePaddingRatio_(i),e=this.calculatePaddingRatio_(this.element),s=Math.max(.8,.98-n-e),r=SPZCore.Types.debounce(this.win,(function(i){var n=i.intersectionRatio>=s;t.lastSlideFullyVisible_!==n&&(t.lastSlideFullyVisible_=n,t.updateControlsStateImmediately_())}),16);this.lastSlideObserver_=SPZCore.observeIntersections(i,r,{threshold:s,root:this.element})}}else this.lastSlideFullyVisible_=!1}else this.lastSlideFullyVisible_=!1}},{key:"updateControlsStateImmediately_",value:function(){var t=this;this.controls_&&this.mutateElement((function(){t.controls_.setControlsState({prev:t.hasPrev_(),next:t.hasNext_()})}))}},{key:"getLastNonCopySlideWrapper_",value:function(){if(!this.slideWrappers_)return null;for(var t=this.slideWrappers_.length-1;t>=0;t--){var i=this.slideWrappers_[t];if(!i.classList.contains("i-spzhtml-slide-item-copy"))return i}return null}},{key:"moveSlide",value:function(t,i,n){if(null!==this.slideIndex_){var e=1===t?this.getNextIndex_(this.slideIndex_):this.getPrevIndex_(this.slideIndex_);null!==e?this.showSlideAndTriggerAction_(e,i,t,void 0,n):this.effect_.effect({index:this.slideIndex_,animateTime:this.animateTime_,opt_autoplay:n})}}},{key:"goToSlide",value:function(t,i,n){var e=parseInt(t,10);!isFinite(e)||e<0||e>=this.noOfSlides_?this.logger().warn(ot,"Invalid [slide] value: ",t):null!==this.slideIndex_?this.showSlideAndTriggerAction_(e,i,n,!0):this.initialSlideIndex_=e}},{key:"getPrevIndex_",value:function(t){return t-1>=0?t-1:this.shouldLoop_?this.max_-1:null}},{key:"getNextIndex_",value:function(t){return t+1<this.max_?t+1:this.shouldLoop_?0:null}},{key:"showSlide_",value:function(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ut,e=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,r=this.noOfSlides_;return!(t<0||t>=r||this.slideIndex_==t||this.showProcessing_)&&this.handleShowSlide_(t,i,n,e,s)}},{key:"handleShowSlide_",value:function(t,i){var n=this,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ut,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4?arguments[4]:void 0,o=this.slides_[t];if(void 0===o)return this.logger().warn(ot,"Attempting to access a non-existant slide %s / %s",t,this.noOfSlides_),!1;this.slideIndex_=t,this.slidesContainer_.setAttribute("select",this.slideIndex_),this.showProcessing_=!0,this.updateControlsStateImmediately_();var u=function(){n.showProcessing_=!1,n.triggerActionByName_("slideEnd",t),n.attemptToFit_()};return this.effect_.effect({slideIndex:t,index:t,animateTime:i?this.animateTime_:0,dir:e,animate:i,isUpdate:s,opt_autoplay:r}),u(),this.updateLastSlideVisibility_(),!0}},{key:"attemptToFit_",value:function(){var i=this;if(this.element.hasAttribute("controls")){var n=function(){i.mutateElement((function(){return i.calcPrePosition_()}))};if(this.slidesContainer_){var e=this.getStartEndEle_(),s=e.nextEleList,r=e.preEleList;[].concat(it(r),it(s)).filter((function(t){return!(null!=t&&t.isMount&&t.isMount())})).map((function(i){return t.whenDefined(i).then((function(){return i.whenMounted()}))})).forEach((function(t){return t.then((function(){return n()}))}))}return n()}}},{key:"calcPrePosition_",value:function(){var t=this.slideIndex_;if(this.slideWrappers_[t]){var i=SPZCore.Dom.scopedQuerySelector(this.slideWrappers_[t],"spz-img, ljs-img"),n=this.getStartEndEle_(),e=n.nextInfo,s=n.preInfo;if(SPZCore.Dom.toggleAttribute(this.element,"image",!!i),this.element.hasAttribute("zoom-in")||!e.height&&!s.height)return SPZCore.Dom.setStyle(this.prevButton_,"top","50%"),void SPZCore.Dom.setStyle(this.nextButton_,"top","50%");var r=s.height>e.height?s:e;if(r.height){var o="".concat(r.height/2+this.getOffsetTop_(r.maxEle),"px");SPZCore.Dom.setStyle(this.prevButton_,"top",o),SPZCore.Dom.setStyle(this.nextButton_,"top",o)}}}},{key:"getStartEndEle_",value:function(){var t=this.slideIndex_,i=SPZCore.Dom.scopedQuerySelectorAll(this.slideWrappers_[t],"spz-img, ljs-img");i||(i=SPZCore.Dom.scopedQuerySelectorAll(this.slideWrappers_[t],"spz-video, ljs-video"));var n=t;n>=this.slideWrappers_.length&&(n=this.slideWrappers_.length-1);var e=SPZCore.Dom.scopedQuerySelectorAll(this.slideWrappers_[n],"spz-img, ljs-img");e||(e=SPZCore.Dom.scopedQuerySelectorAll(this.slideWrappers_[n],"spz-video, ljs-video"));var s=function(t){var i=0,n=null;return t.forEach((function(t){var e=t.clientHeight;e>=i&&(n=t,i=e)})),{height:i,maxEle:n}};return{preEleList:i=SPZCore.Types.toArray(i),nextEleList:e=SPZCore.Types.toArray(e),preInfo:s(i),nextInfo:s(e)}}},{key:"getOffsetTop_",value:function(t){for(var i=t.offsetTop,n=t.offsetParent;null!==n;){if("SPZ-CAROUSEL"===n.tagName||"LJS-CAROUSEL"===n.tagName)return i;i+=n.offsetTop,n=n.offsetParent}return i}},{key:"showSlideAndTriggerAction_",value:function(t,i,n,e,s){this.showSlide_(t,i,n,e,s)&&this.triggerActionByName_("slideChange",t)}},{key:"triggerBindingElements_",value:function(){var i=this,n=this.element.getAttribute("id"),e=this.element.ownerDocument.querySelector('[carousel-id="'.concat(n,'"]'));e&&t.whenApiDefined(e).then((function(t){t&&t.changeActive&&t.changeActive(i.slideIndex_)}))}},{key:"getData",value:function(){var t=this;return this.element.whenLoaded().then((function(){return{slideLength:t.slides_.length,slideActive:t.slideIndex_}}))}},{key:"triggerActionByName_",value:function(t,i){var n,e,s,r,o,u=this.slides_[i];Array.isArray(u)&&(u=u[0]);var h=SPZUtils.Event.create(this.win,"spz-carousel.".concat(t),{id:this.element.id,index:i,path:(null===(n=u)||void 0===n?void 0:n.getAttribute("src"))||(null===(e=u)||void 0===e||null===(s=e.querySelector("spz-img, ljs-img"))||void 0===s?void 0:s.getAttribute("src")),tagName:null===(r=u)||void 0===r?void 0:r.tagName,isImage:at.includes(null===(o=u)||void 0===o?void 0:o.tagName),total:this.slides_.length});this.action_.trigger(this.element,t,h,{bubbles:!1}),"slideChange"===t&&this.triggerBindingElements_()}},{key:"updateCount_",value:function(t){var i=parseInt(t,10);this.advanceCount_!==i&&(this.element.getAttribute("advance-count")!==i.toString()&&this.element.setAttribute("advance-count",i),this.advanceCount_=i,this.applyCountsToDOM_(),null!==this.slideIndex_&&this.handleShowSlide_(this.slideIndex_,!1,ut,!0))}},{key:"updateDirect_",value:function(t){this.element.setAttribute("direct",t),this.direct_=t,this.effect_.update({direct:t,index:this.slideIndex_,animateTime:this.animateTime_})}},{key:"setupAutoplay_",value:function(){var t=Number(this.element.getAttribute("delay"));t>0&&(this.autoplayDelay_=Math.max(1e3,t)),this.autoplay_(),this.effectType_===ht&&this.shouldLoop_&&this.dispatchEvent_()}},{key:"autoplay_",value:function(){this.shouldAutoplay_&&(this.listenEnd_=SPZUtils.Event.listen(this.element,"transitionend",this.timerForInPlay_.bind(this),{passive:!0}))}},{key:"timerForInPlay_",value:function(){this.clearAutoplayTimer_(),this.autoplayDelay_<1e3&&this.element.hasAttribute("move")||(this.autoplayTimeoutId_=SPZServices.timerFor(this.win).delay(this.go.bind(this,1,!0,!0),this.autoplayDelay_))}},{key:"clearAutoplayTimer_",value:function(){null!==this.autoplayTimeoutId_&&(SPZServices.timerFor(this.win).cancel(this.autoplayTimeoutId_),this.autoplayTimeoutId_=null),this.listenEnd_&&this.listenEnd_()}},{key:"cancelCopyTask_",value:function(){this.element.unmounted_=!0,SPZServices.timerFor(this.win).cancel(this.element.copyTimer_)}},{key:"dispatchEvent_",value:function(){if(this.shouldAutoplay_){var t=SPZUtils.Event.create(this.win,"transitionend",{},{bubbles:!1});this.element.dispatchEvent(t)}}},{key:"resize_",value:function(){var t;this.calcPrePosition_(),this.recalculateCounts_(!0),null===(t=this.effect_)||void 0===t||t.effect({index:this.slideIndex_,animateTime:this.animateTime_,update:!0,isUpdate:!0})}},{key:"updateSelect_",value:function(t){var i=this,n=this.noOfSlides_;if(t<0||t>=n||this.slideIndex_==t)return!1;this.slideIndex_=t,this.slidesContainer_.setAttribute("select",this.slideIndex_),this.mutateElement((function(){i.controls_.setControlsState({prev:i.hasPrev_(),next:i.hasNext_()})})),this.triggerActionByName_("slideChange",t)}},{key:"updateMaxIndex_",value:function(t){this.visibleCount_=this.count_-t}},{key:"loadedCallback_",value:function(){var t,i=this;this.shouldAutoplay_&&(this.unObserver_=SPZCore.observeIntersections(this.element,(function(t){var n=t.isIntersecting;SPZCore.Dom.toggleAttribute(i.element,"pause",!n),n&&i.shouldAutoplay_&&i.autoplay_()}))),(t=this.element).childIds_.length&&(t.copyTimer_=function(t){if(self.requestIdleCallback){var i=self.requestIdleCallback(t);return function(){return cancelIdleCallback(i)}}return SPZServices.timerFor(self).delay(t)}((function(){var i,n,e;null===(i=(n=SPZServices.templatesForDoc()).render)||void 0===i||i.call(n,(e=t.childIds_,"\n  <style>\n    ${(()=>{\n      return ".concat(JSON.stringify(e),".map((id) => {\n        const pattern = '#' + id + '(\\\\b)';\n        return data.originData.styleSheets.flat().filter((item) => {\n          return item.includes('#' + id) && new RegExp(pattern).test(item);\n        })\n        .map((item) => item.replace(new RegExp(pattern, 'g'),  '#' + id + '-copy')).join('\\n') || '';\n      }).join('\\n') || '';\n    })()}\n  </style>\n  ")),{styleSheets:Array.from(document.styleSheets).map((function(t){try{var i;return null!==(i=t.ownerNode)&&void 0!==i&&i.classList.contains(x)?[]:Array.from(t.cssRules).map((function(t){return t.cssText}))}catch(t){return[]}}))}).then((function(i){""===(null==i?void 0:i.innerHTML.trim())||t.unmounted_||(i.classList.add(x),document.head.appendChild(i))}))})))}}])&&function(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}(n.prototype,s),Object.defineProperty(n,"prototype",{writable:!1}),h}(t.BaseElement);self.SPZ.registerElement(ot,lt,"spz-carousel{overflow:hidden}.spz-carousel-slide>.i-spzhtml-replaced-content{-o-object-fit:contain;object-fit:contain}.spz-carousel-button{position:absolute;box-sizing:border-box;top:50%;border-radius:2px;opacity:0;pointer-events:all;background-position:50% 50%;background-repeat:no-repeat;transform:translateY(-50%);visibility:hidden;z-index:10}.spz-mode-mouse .spz-carousel-button,spz-carousel.i-spzhtml-carousel-has-controls>.spz-carousel-button,spz-carousel[controls]>.spz-carousel-button{opacity:1;visibility:visible}.spz-carousel-button-prev{left:16px}.spz-carousel-button-next{right:16px}.i-spzhtml-carousel-button-start-hint .spz-carousel-button:not(.spz-disabled){animation:i-spzhtml-carousel-hint 1s ease-in 3s 1 normal both}@keyframes i-spzhtml-carousel-hint{0%{opacity:1;visibility:visible}to{opacity:0;visibility:hidden}}spz-carousel[i-spzhtml-carousel-hide-buttons] .spz-carousel-button-next,spz-carousel[i-spzhtml-carousel-hide-buttons] .spz-carousel-button-prev{opacity:0;pointer-events:none;visibility:visible!important}spz-carousel[direct=vertical]{overflow:hidden}spz-carousel[direct=vertical] .i-spzhtml-slides-container{-ms-flex-direction:column;flex-direction:column}spz-carousel[advance-count] .i-spzhtml-slide-item{display:-ms-flexbox;display:flex}spz-carousel[advance-count] .i-spzhtml-slides-container-wrapper{display:-ms-flexbox!important;display:flex!important;-ms-flex-wrap:nowrap;flex-wrap:nowrap;width:100%!important;scrollbar-width:none;box-sizing:content-box!important;overflow:hidden}spz-carousel .i-spzhtml-slides-container{position:relative;width:100%;height:100%;z-index:1;display:-ms-flexbox;display:flex;transition-property:transform;box-sizing:content-box;transform:translate(0px)}spz-carousel:not([layout=container]) .i-spzhtml-slides-container{height:100%!important;position:absolute!important;top:0;left:0}spz-carousel[effect=fade]{will-change:height}spz-carousel[effect=fade] .i-spzhtml-slides-container .i-spzhtml-slide-item{opacity:0;display:none;will-change:height;transform:translate(0px)}spz-carousel[effect=fade] .i-spzhtml-slides-container .i-spzhtml-slide-item-show{display:block!important;pointer-events:all!important}spz-carousel[effect=fade] .i-spzhtml-slides-container .i-spzhtml-slide-item{pointer-events:none}[zoom][zoom-in] .i-spzhtml-slides-container{height:100%!important}.i-spzhtml-slides-container::-webkit-scrollbar{display:none!important}.i-spzhtml-slides-container.i-spzhtml-no-scroll{overflow-x:hidden!important}spz-carousel .i-spzhtml-slide-item{-ms-flex-negative:0;flex-shrink:0;width:100%;height:100%;position:relative;transition-property:transform;display:-ms-flexbox;display:flex}spz-carousel .i-spzhtml-slide-item>*{width:100%;overflow:hidden!important}spz-carousel .i-spzhtml-slide-item img,video{-webkit-user-drag:none}[zoom][zoom-in]{position:fixed!important;left:0;right:0;top:0;bottom:0;background:#000;z-index:1030;width:100vw!important}spz-carousel[effect=fade] .i-spzhtml-layout-size-defined .i-spzhtml-fill-content{z-index:1031}spz-carousel[zoom] .close{position:absolute;top:24px;right:14px;width:36px;height:36px;z-index:1032}spz-carousel[dragging] a{pointer-events:none}spz-carousel[effect=swipe][direct=vertical]>.i-spzhtml-slides-container{overflow-y:scroll;overflow-x:hidden}spz-carousel[effect=swipe]>.i-spzhtml-slides-container{overflow-x:scroll}@media (max-width:959.98px){spz-carousel[effect=swipe] .i-spzhtml-slides-container{scroll-snap-type:both mandatory;overscroll-behavior-x:contain}spz-carousel[effect=swipe] .i-spzhtml-slide-item{scroll-snap-stop:always;scroll-snap-align:start}}\n/*# sourceURL=/extensions/spz-carousel/0.1/spz-carousel.css*/")}();
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! moment.js
//! momentjs.com
//! version : 2.29.1
}});
